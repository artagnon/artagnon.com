<!DOCTYPE html>
<html lang="en">
  <head>
    <title>[ag/4] Properties of schemes | artagnon.com</title>
    <meta charset="utf-8" />
    <meta name="description" content="Ramkumar Ramachandra&#39;s personal website" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index,follow" />
    <link rel="icon" href="/dist/artagnon.com.svg" />
    <link rel="mask-icon" href="/dist/mask-icon.svg" color="#000000" />
    <link rel="stylesheet" href="/dist/style.min.css" />
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/cash/6.0.1/cash.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/dayjs.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/plugin/relativeTime.min.js"></script>
    <script defer="" src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
    <script>
      MathJax = {
        loader: {
          load: ['[custom]/xypic.js'],
          paths: {custom: '/lib'}
        },
        tex: {
          packages: {'[+]': ['xypic']},
          inlineMath: [['$', '$']]
        },
        chtml: {
          fontURL: "/dist/woff"
        }
      };
    </script>
    <link rel="preload" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" />
    <noscript>
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" />
    </noscript>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/coq.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/cpp.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/haskell.min.js"></script>
    <script defer="" src="/dist/script.min.js"></script>
  </head>
  <body>
    <nav>
      <div>
        <a href="/"><img src="/dist/artagnon.com.svg" alt="home" /></a>
      </div>
      <div>
        <ul>
          <li>
            <a href="/articles">articles</a>
          </li>
          <li>
            <a href="/computing">computing</a>
          </li>
          <li>
            <a href="/math">math</a>
          </li>
        </ul>
      </div>
    </nav>
    <main>
      <header>
        <h1>
          [ag/4] Properties of schemes
        </h1>
        <div id="metadata">
          <span id="timestamp"><time datetime="2019-03-30" class="begin">Sat, 30 Mar 2019 12:06:58 +0530</time><span class="to">â†ª</span><time datetime="2020-12-16" class="end">Wed, 16 Dec 2020 10:34:05 +0100</time></span><br /><span id="locations"><address>Paris, Chennai</address></span>
        </div>
      </header>
      <article class="wrapper">
        <p>
          We have already shown that <span class="mathjax">$\mathbb{A}_k^n$</span> is irreducible; this argument behaves well under gluing yielding the fact that <span class="mathjax">$\mathbb{P}_k^n$</span> behaves well under gluing. If there is some property <span class="mathjax">$P$</span> of schemes that is "open", then to check if all points of the quasicompact scheme have <span class="mathjax">$P$</span>, it is sufficient to check just the closed points. In many good situations, the closed points are dense.
        </p>
        <p>
          A scheme is said to be <mark>quasiseparated</mark> if the intersection of any two quasicompact subsets is quasicompact. We will later realize that this is a property of morphisms, not schemes.
        </p>
        <h2 id="reducedness-and-integrality">
          Reducedness and integrality
        </h2>
        <p>
          Recall that a ring is said to be <mark>reduced</mark> if it has no nonzero nilpotents. A scheme is said to be reduced if <span class="mathjax">$\mathscr{O}_X(U)$</span> is reduced for every open set <span class="mathjax">$U$</span>. The scheme <span class="mathjax">$\text{Spec } k[x, y]/(y^2, xy)$</span> is nonreduced, as we have already seen as a fuzz around the origin.
        </p>
        <p>
          A scheme <span class="mathjax">$X$</span> is said to be an <mark>integral</mark> if it is nonempty and if <span class="mathjax">$\mathscr{O}_X(U)$</span> is an integral domain for every open subset <span class="mathjax">$U$</span> of <span class="mathjax">$X$</span>. Be cautioned that integrality is not a stalk-local property, since <span class="mathjax">$\text{Spec } A \sqcup \text{Spec } B = \text{Spec}(A \times B)$</span>.
        </p>
        <p>
          Irreducible varities have the convenient property that sections over different open subsets can be considered as subrings of the same ring. In particular, restriction maps are always considered inclusions, and gluing is easy: <span class="mathjax">$f_i$</span> on a cover <span class="mathjax">$U_i$</span> of <span class="mathjax">$U$</span> glue iff they are the same element of <span class="mathjax">$K(X)$</span>.
        </p>
        <h2 id="properties-of-schemes-that-can-be-checked-affine-locally">
          Properties of schemes that can be checked affine-locally
        </h2>
        <p>
          We have defined a scheme to be a topological space with a sheaf of rings, that can be covered by affine schemes. Hence, we have all affine open sets in the cover, and the <mark>Affine Communication Lemma</mark> will provide us a way for communicating between them.
        </p>
        <p>
          Affine-local properties can be checked on any affine cover; i.e. a covering by affine open sets. If a scheme is quasicompact, we only need to check a finite number of affine open sets.
        </p>
        <p>
          Suppose <span class="mathjax">$\text{Spec } A$</span> and <span class="mathjax">$\text{Spec } B$</span> are affine local subschemes. Then, <span class="mathjax">$\text{Spec } A \cap \text{Spec } B$</span> is the union of open sets that are simultaneously distinguished open subschemes of <span class="mathjax">$\text{Spec } A$</span> and <span class="mathjax">$\text{Spec } B$</span>. To prove this, notice that given any point <span class="mathjax">$p \in \text{Spec } A \cap \text{Spec } B$</span>, we can produce the open neighborhood of <span class="mathjax">$\text{Spec } A \cap \text{Spec } B$</span> that is simultaneously distinguished in both <span class="mathjax">$\text{Spec } A$</span> and <span class="mathjax">$\text{Spec } B$</span>. Let <span class="mathjax">$\text{Spec } A_f$</span> be the distinguished open subset in <span class="mathjax">$\text{Spec } A$</span> that is contained in <span class="mathjax">$\text{Spec } A \cap \text{Spec } B$</span> and contains <span class="mathjax">$p$</span>. Let <span class="mathjax">$\text{Spec } B_g$</span> be the distinguished open subset of <span class="mathjax">$\text{Spec } B$</span> contained in <span class="mathjax">$\text{Spec } A_f$</span> and containing <span class="mathjax">$p$</span>. Then, <span class="mathjax">$g \in \Gamma(\text{Spec } B, \mathscr{O}_X)$</span> restricts to an element <span class="mathjax">$g' \in \Gamma(\text{Spec } A_f, \mathscr{O}_X) = A_f$</span>. The points of <span class="mathjax">$A_f$</span> where <span class="mathjax">$g$</span> vanishes are precisely the points of <span class="mathjax">$A_f$</span> where <span class="mathjax">$g'$</span> vanishes, so
        </p>
        <div class="mathjax">
          $$
          \begin{align*}
          \text{Spec } B_g &= \text{Spec } A_f \backslash \{[\mathfrak{p}], g' \in \mathfrak{p}\} \\ &= \text{Spec}(A_f)_{g'}
          \end{align*}
          $$
        </div>
        <p>
          If <span class="mathjax">$g' = g''/f^n (g'' \in A)$</span>, then <span class="mathjax">$\text{Spec}(A_f)_{g'} = \text{Spec}(A_{fg''})$</span>, and we are done.
        </p>
        <p>
          <mark>Affine Communication Lemma</mark>: Let <span class="mathjax">$P$</span> be some property enjoyed by some affine open subsets of scheme <span class="mathjax">$X$</span>, such that:
        </p>
        <ol class="olitems" type="i" start="1">
          <li>
            If an affine open subset <span class="mathjax">$\text{Spec } A \hookrightarrow X$</span> has property <span class="mathjax">$P$</span>, then for any <span class="mathjax">$f \in A$</span>, <span class="mathjax">$\text{Spec } A_f \hookrightarrow X$</span> does too.
          </li>
          <li>
            If <span class="mathjax">$(f_1, \ldots, f_n) = A$</span>, and <span class="mathjax">$\text{Spec } A_f \hookrightarrow X$</span> has property <span class="mathjax">$P$</span> for all <span class="mathjax">$i$</span>, then so does <span class="mathjax">$\text{Spec } A \hookrightarrow X$</span>.
          </li>
        </ol>
        <p>
          Suppose <span class="mathjax">$X = \cup_{i \in I} \text{Spec } A_i$</span> where each <span class="mathjax">$\text{Spec } A_i$</span> has property <span class="mathjax">$P$</span>. Then, every affine open subset of <span class="mathjax">$X$</span> also has property <span class="mathjax">$P$</span>. We say that such a property is affine-local: indeed, we can check it on any affine open cover. For example, reducedness is an affine-local property. If <span class="mathjax">$U$</span> is an affine open subscheme of <span class="mathjax">$X$</span>, then <span class="mathjax">$U$</span> inherits any affine-local property of <span class="mathjax">$X$</span>. Note that any property that is stalk-local is affine-local as well. To prove this, let <span class="mathjax">$\text{Spec } A$</span> be an affine subscheme of <span class="mathjax">$X$</span>. Cover <span class="mathjax">$\text{Spec } A$</span> with a finite number of distinguished open sets <span class="mathjax">$\text{Spec } A_{g_j}$</span>, each of which is distinguished in some <span class="mathjax">$\text{Spec } A_i$</span>. By (i), each <span class="mathjax">$\text{Spec } A_{g_j}$</span> has property <span class="mathjax">$P$</span>, and by (ii), each <span class="mathjax">$\text{Spec } A$</span> does too.
        </p>
        <p>
          Suppose <span class="mathjax">$X$</span> is a scheme. If <span class="mathjax">$X$</span> can be covered by affine open sets <span class="mathjax">$\text{Spec } A$</span> where <span class="mathjax">$A$</span> is Noetherian, we say that <span class="mathjax">$X$</span> is a <mark>locally Noetherian scheme</mark>. If <span class="mathjax">$X$</span> is quasicompact, or equivalently, can be covered by a finite number of such open sets, we say that <span class="mathjax">$X$</span> is a <mark>Noetherian scheme</mark>. The underlying topological space of a Noetherian scheme is Noetherian, and all finite open subsets of a Noetherian scheme are quasicompact.
        </p>
        <p>
          Since we will be interested in working with schemes over a particular ring <span class="mathjax">$A$</span>, we define an <span class="mathjax">$A$</span>-scheme, where <span class="mathjax">$A$</span> is a ring, as a scheme where all rings of sections over the structure sheaf are <span class="mathjax">$A$</span>-algebras, and all restriction maps are <span class="mathjax">$A$</span>-algebras. Now suppose <span class="mathjax">$X$</span> is an <span class="mathjax">$A$</span>-scheme. If <span class="mathjax">$X$</span> can be covered by <span class="mathjax">$\text{Spec } B_i$</span> where each <span class="mathjax">$B_i$</span> is an <span class="mathjax">$A$</span>-algebra, we say that <span class="mathjax">$X$</span> is a <mark>locally finite type <span class="mathjax">$A$</span>-scheme</mark>. If, furthermore, <span class="mathjax">$X$</span> is quasicompact, then it is a finite type <span class="mathjax">$A$</span>-scheme. Note that a scheme of locally finite type over <span class="mathjax">$k$</span> or <span class="mathjax">$\mathbb{Z}$</span> is locally Noetherian, and similarly, a scheme of finite type over a Noetherian ring is Noetherian. To give a couple of examples, <span class="mathjax">$\text{Spec } \mathbb{C}[x_0, \ldots, x_n]/I$</span> and <span class="mathjax">$\mathbb{P}_\mathbb{C}^n$</span> are finite type <span class="mathjax">$\mathbb{C}$</span> schemes.
        </p>
        <p>
          An affine scheme that is reduced and of affine type over <span class="mathjax">$k$</span> is said to be an <mark>affine <span class="mathjax">$k$</span>-variety</mark>. A reduced (quasi-)projective <span class="mathjax">$k$</span>-scheme is a (quasi-)projective <span class="mathjax">$k$</span>-variety. The <mark>degree</mark> of a locally finite type <span class="mathjax">$k$</span>-scheme (eg. a <span class="mathjax">$k$</span>-variety) is the degree of the field extension <span class="mathjax">$\kappa(p)/\kappa$</span>. For example, in <span class="mathjax">$\mathbb{A}_k^1 = \text{Spec } k[t]$</span>, the point <span class="mathjax">$[(p(t))]$</span>, <span class="mathjax">$p \in k[t]$</span> irreducible, is <span class="mathjax">$\text{deg } p(t)$</span>. If <span class="mathjax">$k$</span> is algebraically closed, then the degree of all closed points is <span class="mathjax">$1$</span>.
        </p>
        <p>
          Suppose <span class="mathjax">$A$</span> is a ring, and <span class="mathjax">$(f_1, \ldots, f_n) = A$</span>.
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            If <span class="mathjax">$A$</span> is Noetherian, then so is <span class="mathjax">$\text{Spec } A$</span>. If each <span class="mathjax">$A_{f_i}$</span> is Noetherian, then so is <span class="mathjax">$A$</span>.
          </li>
          <li>
            If <span class="mathjax">$A$</span> be a finitely-generated <span class="mathjax">$B$</span>-algebra, then so is <span class="mathjax">$A_{f_i}$</span>. If each <span class="mathjax">$A_{f_i}$</span> is a finitely-generated <span class="mathjax">$B$</span>-algebra, then so is <span class="mathjax">$A$</span>.
          </li>
        </ol>
        <p>
          We divide the proof into parts (i) and (ii) in accordance with the Affine Communication Lemma. To prove (a)(i), consider the strictly increasing chain of ideals <span class="mathjax">$I_1 \subsetneq I_2 \subsetneq \ldots$</span> of <span class="mathjax">$A_f$</span>. Then, we can verify that <span class="mathjax">$J_1 \subsetneq J_2 \subsetneq \ldots$</span> is a strictly increasing chain of ideals of <span class="mathjax">$A$</span>, where:<br/>
          $<span class="mathjax">$J_j = \{r \in A : r \in I_j\}$</span>$
        </p>
        <p>
          where <span class="mathjax">$r \in I_j$</span> means image of <span class="mathjax">$r$</span> in <span class="mathjax">$A_f$</span> lies in <span class="mathjax">$I_j$</span>. Clearly <span class="mathjax">$J_j$</span> is an ideal of <span class="mathjax">$A$</span>. If <span class="mathjax">$x/f^n \in I_{j + 1} \backslash I_j$</span>, where <span class="mathjax">$x \in A$</span>, then <span class="mathjax">$x \in J_{j + 1}$</span> and <span class="mathjax">$x \notin J_j$</span>. For part (ii), consider the strictly increasing chain of ideals <span class="mathjax">$I_1 \subsetneq I_2 \subsetneq \ldots$</span> in <span class="mathjax">$A$</span>. Then, for each <span class="mathjax">$1 \leq i \leq n$</span>:<br/>
          $<span class="mathjax">$I_{i, 1} \subset I_{i, 2} \subset I_{i, 3} \subset \ldots$</span>$
        </p>
        <p>
          is an increasing chain of ideals of <span class="mathjax">$A_f$</span>. Then, <span class="mathjax">$I_{i, j} = I_j \otimes_A A_{f_i}$</span>. It remains to be shown that for each <span class="mathjax">$j$</span>, <span class="mathjax">$I_{i, j} \subsetneq I_{i, j + 1}$</span>, for some <span class="mathjax">$i$</span>; then the result will follow.
        </p>
        <p>
          Now, (b)(i) is clear: if <span class="mathjax">$A$</span> is generated over <span class="mathjax">$B$</span> as <span class="mathjax">$r_1, \ldots, r_n$</span>, then <span class="mathjax">$A_f$</span> is generated over <span class="mathjax">$B$</span> as <span class="mathjax">$r_1, \ldots, r_n, 1/f$</span>. For part (ii), since <span class="mathjax">$f_i$</span>s generate <span class="mathjax">$A$</span>, we can write <span class="mathjax">$1 = \sum c_i f_i$</span> for <span class="mathjax">$c_i \in A$</span>. We have generators of <span class="mathjax">$A_f : r_{ij}/f_i^{k_j}$</span>, where <span class="mathjax">$r_{ij} \in A$</span>. Now, claim that <span class="mathjax">$\{c_i\} \cup \{f_i\}_i \cup \{r_{ij}\}_{ij}$</span> generate <span class="mathjax">$A$</span> as a <span class="mathjax">$B$</span>-algebra. Suppose we have <span class="mathjax">$r \in A$</span>. Then in <span class="mathjax">$A_{f_i}$</span>, we can write <span class="mathjax">$r$</span> as some polynomial in <span class="mathjax">$r_{ij}$</span>s and <span class="mathjax">$f_i$</span>, divided by some huge power of <span class="mathjax">$f_i$</span>. So, in each <span class="mathjax">$f_i$</span>, we have described <span class="mathjax">$r$</span> in the obvious way, except for the huge denominator. Now use the partition of unity argument to combine all this expressions into a single expression killing the denominator. The resulting expression we build agrees with <span class="mathjax">$r$</span> in each <span class="mathjax">$A_{f_i}$</span>. Thus, it is indeed <span class="mathjax">$r$</span> by identity axiom for the structure sheaf.
        </p>
        <h2 id="normality-and-factoriality">
          Normality and factoriality
        </h2>
        <p>
          We define a property of schemes that are "not too far from smooth", normality. Locally Noetherian normal schemes satisfy Hartogs's lemma: functions defined away from a set of codimension <span class="mathjax">$2$</span> extend over that set. As a consequence, rational functions that have no poles are defined everywhere. An integral domain <span class="mathjax">$A$</span> is <mark>integrally closed</mark> iff the zeros in <span class="mathjax">$K(A)$</span> to any monic polynomial in <span class="mathjax">$A[x]$</span> must lie in <span class="mathjax">$A$</span> itself. We say that scheme <span class="mathjax">$X$</span> is <mark>normal</mark> if all of its stalks <span class="mathjax">$\mathscr{O}_{X, p}$</span> are normal; i.e. are integral domains, and integrally closed in their fraction fields. By definition, normality is a stalk-local property, as is reducedness. If <span class="mathjax">$A$</span> is an integrally closed domain, then <span class="mathjax">$\text{Spec } A$</span> is normal. For quasicompact schemes, normality can be checked at closed points. For such schemes, any point is a generization of a closed point. Normal schemes, however, need not be integral. Thus, <span class="mathjax">$\text{Spec } k \sqcup \text{Spec } k \cong \text{Spec}(k \times k) \cong \text{Spec } k[x]/x(x - 1)$</span> is normal, but its ring of global sections is not an integral domain.
        </p>
        <p>
          To quote a result from commutative algebra, if <span class="mathjax">$A$</span> is an integral domain, then the following statements are equivalent:
        </p>
        <ol class="olitems" type="i" start="1">
          <li>
            <span class="mathjax">$A$</span> is integrally closed.
          </li>
          <li>
            <span class="mathjax">$A_\mathfrak{p}$</span> is integrally closed for prime ideal <span class="mathjax">$\mathfrak{p} \subset A$</span>.
          </li>
          <li>
            <span class="mathjax">$A_\mathfrak{m}$</span> is integrally closed for maximal ideal <span class="mathjax">$\mathfrak{m} \subset A$</span>.
          </li>
        </ol>
        <p>
          If all stalks of a scheme <span class="mathjax">$X$</span> are UFDs, we say that <span class="mathjax">$X$</span> is <mark>factorial</mark>. Thus, if <span class="mathjax">$A$</span> is a UFD, <span class="mathjax">$\text{Spec } A$</span> is factorial, but the converse need not hold. We will later see that elliptic curves are factorial, yet no affine open set is the Spec of a UFD. We can show factoriality by finding an appropriate affine open cover, but there need not be such a cover of a factorial scheme. There are few means of checking if a Noetherian integral domain is a UFD:
        </p>
        <ol class="olitems" type="i" start="1">
          <li>
            Localization of a UFD is also a UFD.
          </li>
          <li>
            Height <span class="mathjax">$1$</span> prime ideals are principal.
          </li>
          <li>
            Normal and <span class="mathjax">$CI = 0$</span>.
          </li>
          <li>
            Nagata's lemma.
          </li>
        </ol>
        <p>
          Moreover, factoriality implies normality.
        </p>
        <h2 id="associated-points-and-primes">
          Associated points and primes
        </h2>
        <p>
          Associated points of schemes capture some crucial information about the sheaf of functions over them. To start with a geometric intuition, we will think of them as "fuzzy attractors". In <span class="mathjax">$\text{Spec } k[x, y]/(y^2, xy)$</span>, the fuzz about origin captured nonreduced behavior there. This can be justified as: origin is the only point where the structure sheaf is nonreduced. Since irreducible closed subsets are in bijection with points, we may say that two keys points with respect to nonreducedness were the generic point <span class="mathjax">$[(y)]$</span> and origin <span class="mathjax">$[(x, y)]$</span>; these will be the associated points in the scheme.
        </p>
        <p>
          Another way to think about them: associated points are generic points of irreducible components of the support of sections. Recall that support of a function on a scheme is a closed subset. The fact that the same closed subsets arise in two different ways is no coincidence: their generic points are associated points of <span class="mathjax">$\text{Spec } k[x, y]/(y^2, xy)$</span>. When discussing associated points of <span class="mathjax">$M$</span>, we consider <span class="mathjax">$M$</span> to be a finitely generated <span class="mathjax">$A$</span>-module, and <span class="mathjax">$A$</span> to be Noetherian. When talking about rings rather than schemes, we discuss associated primes rather than associated points. We list three properties now:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            The associated primes/points of <span class="mathjax">$M$</span> are precisely the generic points of generic points of irreducible components of the support of some element of <span class="mathjax">$M$</span>.
          </li>
          <li>
            <span class="mathjax">$M$</span> has a finite number of associated points/primes. For example, there are only a finite number of irreducible closed subsets of <span class="mathjax">$\text{Spec } A$</span>, such that the only possible functions of <span class="mathjax">$\text{Spec } A$</span> are unions of these. We can interpret this as Noetherianness forcing some kind of finiteness. This gives some meaning to the statement that generic points are the few crucial points of the scheme. We can completely describe which supports of <span class="mathjax">$\text{Spec } A$</span> are the support of an element of <span class="mathjax">$M$</span>: precisely those subsets which are the closure of the subsets of the associated points.
          </li>
        </ol>
        <p>
          We immediately see from (a) that, if <span class="mathjax">$M = A$</span>, the generic points of the irreducible components of <span class="mathjax">$\text{Spec } A$</span> are the associated primes of <span class="mathjax">$M = A$</span>, by considering the function <span class="mathjax">$1$</span>. Other associated points of <span class="mathjax">$\text{Spec } A$</span> are called <mark>embedded points</mark>. Thus, in the case of <span class="mathjax">$\text{Spec } k[x, y]/(y^2, xy)$</span>, the only embedded point is the origin. Furthermore the map:<br/>
          $<span class="mathjax">$M \rightarrow \prod_{\text{associated } p} M_p$</span>$
        </p>
        <p>
          is injective (Once again, we see that the associated points are where all the action happens). We show this by showing that the kernel is <span class="mathjax">$0$</span>. Suppose the function <span class="mathjax">$f$</span> has a germ <span class="mathjax">$0$</span> at each associated point, so its support contains no associated points. It is supported on a closed subset, which by (a), must be the union of closures of associated points. Thus, it must be supported nowhere, and be the zero function.
        </p>
        <ol class="olitems" type="a" start="3">
          <li>
            An element <span class="mathjax">$A$</span> is a zerodivisor of <span class="mathjax">$M$</span> iff it vanishes on some associated point in <span class="mathjax">$M$</span>; i.e. is contained within some associated prime of <span class="mathjax">$M$</span>.
          </li>
        </ol>
        <p>
          Associated points/primes can be determined locally. For example, associated points of <span class="mathjax">$A$</span> can be checked by looking at the stalks of the structure sheaf. As another example, associated prime ideals of <span class="mathjax">$M$</span> may be determined by working on a distinguished open cover of <span class="mathjax">$\text{Spec } A$</span>. We define the associated points of a locally Noetherian scheme <span class="mathjax">$X$</span> to be those points <span class="mathjax">$p \in X$</span> such that, on any affine open set in <span class="mathjax">$\text{Spec } A$</span> containing <span class="mathjax">$p$</span>, <span class="mathjax">$p$</span> corresponds to the associated prime of <span class="mathjax">$A$</span>. This notion is independent of the choice of open neighborhood of <span class="mathjax">$\text{Spec } A$</span>: if <span class="mathjax">$p$</span> has two open neighborhoods <span class="mathjax">$\text{Spec } A$</span> and <span class="mathjax">$\text{Spec } B$</span>, <span class="mathjax">$p$</span> corresponds to the associated prime of <span class="mathjax">$A$</span> (say, <span class="mathjax">$p$</span> corresponds to a prime ideal in <span class="mathjax">$A$</span> and <span class="mathjax">$q$</span> corresponds to a prime ideal in <span class="mathjax">$B$</span>) iff it corresponds to an associated prime <span class="mathjax">$A_p = \mathscr{O}_{X, p} = B_q$</span> iff it corresponds to an associated prime of <span class="mathjax">$B$</span>.
        </p>
        <p>
          Combining the properties above, we get the following list of facts:
        </p>
        <ol class="olitems" type="i" start="1">
          <li>
            A Noetherian scheme has finitely many associated points.
          </li>
          <li>
            Each of the irreducible components of the support of any function of a locally Noetherian scheme is the union of closures of some subset of the associated points.
          </li>
          <li>
            The generic points of the irreducible components of a locally Noetherian scheme are the associated points.
          </li>
          <li>
            A reduced locally Noetherian scheme has no embedded points.
          </li>
          <li>
            A nonreduced locus of a locally Noetherian scheme is the closure of those associated points that have nonreduced stalks.
          </li>
        </ol>
        <p>
          Furthermore, note that for any integral scheme <span class="mathjax">$X$</span> (for instance, an irreducible affine variety), that is not shared by all schemes, is that for any nonempty open subset <span class="mathjax">$U \subset X$</span>, the natural map <span class="mathjax">$\Gamma(U, \mathscr{O}_X) \rightarrow K(X)$</span> is an inclusion. Thus, sections over any nonempty open subset, and elements of all stalks, can be thought of as lying in <span class="mathjax">$K(X)$</span>, the stalk at the generic point. Associated primes allow us to generalize this idea.
        </p>
        <p>
          A <mark>rational</mark> funtion on a locally Noetherian scheme is an element of the image of <span class="mathjax">$\Gamma(U, \mathscr{O}_U)$</span> for some <span class="mathjax">$U$</span> containing the associated primes. Equivalently, the set of rational functions is the colimit of <span class="mathjax">$\mathscr{O}_X(U)$</span> over the open sets containing associated points. Another equivalent definition: a rational function is a function defined on the open set containing all associated points; i.e. an ordered pair <span class="mathjax">$(U, f)$</span> with <span class="mathjax">$U$</span> an open set containing all associated points, and <span class="mathjax">$f \in \Gamma(U, \mathscr{O}_X)$</span>. Two such data <span class="mathjax">$(U, f), (U', f')$</span> define the same rational function iff the restrictions of <span class="mathjax">$f, f'$</span> on <span class="mathjax">$U \cap U'$</span> are the same. If <span class="mathjax">$X$</span> is reduced, it is the same as requiring that they be defined on an open set of each of the irreducible components. For example, in <span class="mathjax">$\text{Spec } k[x, y]/(y^2, xy)$</span>, <span class="mathjax">$\frac{x - 2}{(x - 1)(x - 3)}$</span> is a rational function but <span class="mathjax">$\frac{x - 2}{x(x - 1)}$</span> is not.
        </p>
        <p>
          A rational function has a maximal <mark>domain of definition</mark> because any two actual functions that agree as rational functions must be the same. We say that a rational function <span class="mathjax">$f$</span> must be <mark>regular</mark> at point <span class="mathjax">$p$</span> if <span class="mathjax">$p$</span> is contained in this maximal domain of definition. For example, in <span class="mathjax">$\text{Spec } k[x, y]/(y^2, xy)$</span>, <span class="mathjax">$\frac{x - 2}{(x - 1)(x - 3)}$</span> has domain of definition on everything except at <span class="mathjax">$1, 3$</span>. A rational function is regular if it is regular at all points.
        </p>
        <p>
          A rational function forms a ring, called <mark>total fraction ring</mark> or <mark>total quotient ring</mark> of <span class="mathjax">$X$</span>. If <span class="mathjax">$X = \text{Spec } A$</span> is affine, then this ring is called the total fraction ring of <span class="mathjax">$A$</span>. If <span class="mathjax">$X$</span> is integral, the total fraction ring is the total function field <span class="mathjax">$K(X)$</span>: the stalk at the generic point.
        </p>
        <p>
          To augment our earlier definitions, let <span class="mathjax">$M$</span> be an <span class="mathjax">$A$</span>-module for arbitarary ring <span class="mathjax">$A$</span>. Then:
        </p>
        <ol class="olitems" type="a" start="4">
          <li>
            A prime <span class="mathjax">$\mathfrak{p} \subset A$</span> is said to be associated to <span class="mathjax">$M$</span> if <span class="mathjax">$\mathfrak{p}$</span> is an annihilator of element <span class="mathjax">$m \in M$</span>. Equivalently, <span class="mathjax">$\mathfrak{p}$</span> is associated to <span class="mathjax">$M$</span> iff <span class="mathjax">$M$</span> has a submodule associated to <span class="mathjax">$A/\mathfrak{p}$</span>. The set of prime ideals associated to <span class="mathjax">$M$</span> is denoted by <span class="mathjax">$\text{Ass } M$</span>. Awkwardly, if <span class="mathjax">$I$</span> is an ideal, the associated prime ideals of the module <span class="mathjax">$A/I$</span> are said to be the associated prime ideals of <span class="mathjax">$I$</span>.
          </li>
        </ol>
        <p>
          The properties of associated prime ideals can be listed as follows. Given Noetherian ring <span class="mathjax">$A$</span> and <span class="mathjax">$M \neq 0$</span> finitely generated:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            The set <span class="mathjax">$\text{Ass } M$</span> is finite and nonempty.
          </li>
          <li>
            The natural map <span class="mathjax">$M \rightarrow \prod_{\mathfrak{p} \in \text{Ass } M} M_\mathfrak{p}$</span> is an injection.
          </li>
          <li>
            The set of zerodivisors of <span class="mathjax">$M$</span> is <span class="mathjax">$\bigcup_{\mathfrak{p} \in \text{Ass } M} \mathfrak{p}$</span>.
          </li>
          <li>
            Association commutes with localization. If <span class="mathjax">$S$</span> is a multiplicative set then <span class="mathjax">$\text{Ass}_{S^{-1} A} S^{-1} M = \text{Ass}_A M \cap \text{Spec } S^{-1} A$</span>.
          </li>
        </ol>
        <p>
          If <span class="mathjax">$A$</span> is a Noetherian ring, then any element of any minimal prime <span class="mathjax">$\mathfrak{p}$</span> is a zerodivisor. Suppose <span class="mathjax">$s \in \mathfrak{p}$</span>. Then, by minimality of <span class="mathjax">$\mathfrak{p}$</span>, <span class="mathjax">$\mathfrak{p} A_\mathfrak{p}$</span> is a unique prime ideal in <span class="mathjax">$A_\mathfrak{p}$</span>, so the element <span class="mathjax">$s/1$</span> of <span class="mathjax">$A_\mathfrak{p}$</span> is nilpotent, because it is contained in all prime ideals of <span class="mathjax">$A_\mathfrak{p}$</span>. Thus, for <span class="mathjax">$t \in A \backslash \mathfrak{p}$</span>, <span class="mathjax">$ts^n = 0$</span>, so <span class="mathjax">$s$</span> is a zerodivisor.
        </p>
        <p>
          The associated prime ideals of an ideal turn out to be precisely the radicals of ideals in any primary decomposition.
        </p>
      </article>
    </main>
  </body>
</html>