<!DOCTYPE html>
<html lang="en">
  <head>
    <title>[ag/1] Sheaves | artagnon.com</title>
    <meta charset="utf-8" />
    <meta name="description" content="Ramkumar Ramachandra&#39;s personal website" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index,follow" />
    <link rel="icon" href="/dist/artagnon.com.svg" />
    <link rel="mask-icon" href="/dist/mask-icon.svg" color="#000000" />
    <link rel="stylesheet" href="/dist/style.min.css" />
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/cash/6.0.1/cash.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/dayjs.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/plugin/relativeTime.min.js"></script>
    <script defer="" src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
    <script>
      MathJax = {
        loader: {
          load: ['[custom]/xypic.js'],
          paths: {custom: '/lib'}
        },
        tex: {
          packages: {'[+]': ['xypic']},
          inlineMath: [['$', '$']]
        },
        chtml: {
          fontURL: "/dist/woff"
        }
      };
    </script>
    <link rel="preload" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" />
    <noscript>
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" />
    </noscript>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/coq.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/cpp.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/haskell.min.js"></script>
    <script defer="" src="/dist/script.min.js"></script>
  </head>
  <body>
    <nav>
      <div>
        <a href="/"><img src="/dist/artagnon.com.svg" alt="home" /></a>
      </div>
      <div>
        <ul>
          <li>
            <a href="/articles">articles</a>
          </li>
          <li>
            <a href="/computing">computing</a>
          </li>
          <li>
            <a href="/math">math</a>
          </li>
        </ul>
      </div>
    </nav>
    <main>
      <header>
        <h1>
          [ag/1] Sheaves
        </h1>
        <div id="metadata">
          <span id="timestamp"><time datetime="2019-03-04" class="begin">Mon, 04 Mar 2019 12:03:50 +0530</time><span class="to">â†ª</span><time datetime="2020-12-16" class="end">Wed, 16 Dec 2020 10:34:05 +0100</time></span><br /><span id="locations"><address>Paris, Chennai</address></span>
        </div>
      </header>
      <article class="wrapper">
        <p>
          Informally speaking, the collection of all functions on all open subsets of a space is termed as a <mark>sheaf</mark>. There are several ways of getting hold of them:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            In terms of open sets.
          </li>
          <li>
            In terms of stalks.
          </li>
          <li>
            In terms of a base of a topology.
          </li>
        </ol>
        <h2 id="germ-of-differentiable-functions">
          Germ of differentiable functions
        </h2>
        <p>
          The ring of functions on each open set <span class="mathjax">$U \subset X$</span> of topological space <span class="mathjax">$X$</span> is written as <span class="mathjax">$\mathscr{O}(U)$</span>. If <span class="mathjax">$W \hookrightarrow V \hookrightarrow U$</span>, then the following diagram commutes:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{O}(U)\ar[rr]^{\text{res}_{U, V}}\ar[rd]_{\text{res}_{U, W}} & & \mathscr{O}(V)\ar[ld]^{\text{res}_{V, W}} \\
          & \mathscr{O}(W) &
          }
          \end{xy}
          $$
        </div>
        <p>
          Two additional facts:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            Let <span class="mathjax">$U_i$</span> be a covering of <span class="mathjax">$U$</span>, and <span class="mathjax">$f_1, f_2 \in \mathscr{O}(U)$</span>. If <span class="mathjax">$f_1 = res_{U, U_i} f_2$</span>, then <span class="mathjax">$f_1 = f_2$</span>. Thus, we can identify functions by looking at them on a covering of open sets.
          </li>
          <li>
            Given <span class="mathjax">$f_i \in \mathscr{O}(U_i)$</span> all agreeing pairwise, we can glue them together to make one differentiable function on all of <span class="mathjax">$U$</span>, <span class="mathjax">$f \in \mathscr{O}(U)$</span>.
          </li>
        </ol>
        <p>
          <mark>Germ</mark> of a differentiable function <span class="mathjax">$f$</span> at a point <span class="mathjax">$p$</span> is defined as:<br/>
          $<span class="mathjax">$\{f, \text{open } U \mid p \in U, f \in \mathscr{O}(U)\}$</span>$
        </p>
        <p>
          modulo the relation <span class="mathjax">$(f, U) \sim (g, V)$</span>, if there is some open set <span class="mathjax">$W \subset U$</span>, <span class="mathjax">$p \in V$</span>, such that <span class="mathjax">$f|_W = g|_W$</span> (i.e. <span class="mathjax">$\text{res}_{U, W} f = \text{res}_{V, W} g$</span>). Intuitively, two functions that are the same in an open neighborhood of <span class="mathjax">$p$</span>, but different elsewhere, have the same germ. We call this set of germs at <span class="mathjax">$p$</span> the <mark>stalk</mark> at <span class="mathjax">$p$</span>, denoted by <span class="mathjax">$\mathscr{O}_p$</span>. If <span class="mathjax">$f$</span> is defined on <span class="mathjax">$U$</span> and <span class="mathjax">$g$</span> is defined on <span class="mathjax">$V$</span>, then <span class="mathjax">$f + g$</span> is defined on <span class="mathjax">$U \cap V$</span>. If additionally, <span class="mathjax">$p \in U$</span> then we get the map <span class="mathjax">$\mathscr{O}(U) \rightarrow \mathscr{O}_p$</span>. We're talking about germs as <a href="/category/2#coproducts-and-colimits">colimits</a>. Moreover, <span class="mathjax">$\mathscr{O}_p$</span> is a local ring, since it has exactly one maximal ideal <span class="mathjax">$m_p \subset \mathscr{O}_p$</span>, the ideal of germs vanishing at <span class="mathjax">$p$</span>. We can interpret the value of the function, or the value of the germ, at a point, as an element of the local ring modulo the maximal ideal: this doesn't work for all sheaves, but does work for things behaving like sheaves of functions, formalized later as a <mark>locally ringed space</mark>.
        </p>
        <h2 id="definition-of-presheaf-and-sheaf">
          Definition of presheaf and sheaf
        </h2>
        <p>
          We will be considering sheafs on sets, and this can be done without loss in generality. The fact that <span class="mathjax">$\mathscr{F}$</span> is a presheaf or sheaf on topological space <span class="mathjax">$X$</span> is written as:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar@{-}[d] \\
          X
          }
          \end{xy}
          $$
        </div>
        <p>
          A <mark>presheaf</mark> <span class="mathjax">$\mathscr{F}$</span> on topological space <span class="mathjax">$X$</span> is the following data:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            To each open set <span class="mathjax">$U \subset X$</span>, we have a set <span class="mathjax">$\mathscr{F}(U) = \Gamma(U, \mathscr{F}) = H^0(U, \mathscr{F})$</span>. The elements of <span class="mathjax">$\mathscr{F}(U)$</span> are called the <mark>sections</mark> of <span class="mathjax">$\mathscr{F}$</span>.
          </li>
          <li>
            For each inclusion <span class="mathjax">$U \hookrightarrow V$</span> of open sets, we have the restriction map <span class="mathjax">$\text{res}_{V, U}: \mathscr{F}(V) \rightarrow \mathscr{F}(U)$</span>.
          </li>
        </ol>
        <p>
          The data is required to satisfy identity and composition:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            <span class="mathjax">$\text{res}_{U, U} = \text{id}_{\mathscr{F}(U)}$</span>.
          </li>
          <li>
            For the inclusion <span class="mathjax">$W \hookrightarrow V \hookrightarrow U$</span>, the following diagram commutes:
          </li>
        </ol>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}(U)\ar[rr]^{\text{res}_{U, V}}\ar[rd]_{\text{res}_{U, W}} & & \mathscr{F}(V)\ar[ld]^{\text{res}_{V, W}} \\
          & \mathscr{F}(W) &
          }
          \end{xy}
          $$
        </div>
        <p>
          A presheaf is the same thing as a contravariant functor.
        </p>
        <p>
          The stalk of a presheaf <span class="mathjax">$\mathscr{F}$</span> is defined to be the set of germs of <span class="mathjax">$\mathscr{F}$</span> at point <span class="mathjax">$p$</span>, denoted <span class="mathjax">$\mathscr{F}_p$</span>:<br/>
          $<span class="mathjax">$\mathscr{F}_p = \{f, \text{open } U \mid p \in U, f \in \mathscr{F}(U)\}$</span>$
        </p>
        <p>
          modulo the relation <span class="mathjax">$(f, U) \sim (g, V)$</span>, where <span class="mathjax">$f|_W = g|_W$</span>.
        </p>
        <p>
          Another equivalent definition in terms of colimits is:<br/>
          $<span class="mathjax">$\mathscr{F}_p = \underset{\longrightarrow}{\text{Lim }} \mathscr{F}(U)$</span>$
        </p>
        <p>
          If <span class="mathjax">$p \in U, f \in \mathscr{F}(U)$</span>, then <span class="mathjax">$\mathscr{F}_p$</span> is called the ring of germs of <span class="mathjax">$f$</span> at point <span class="mathjax">$p$</span>.
        </p>
        <p>
          A sheaf is defined as a presheaf along with two additional axioms:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            Identity axiom: Let <span class="mathjax">$U_i$</span> be a covering of <span class="mathjax">$U$</span>, and <span class="mathjax">$f_1, f_2 \in \mathscr{F}(U)$</span>. If <span class="mathjax">$f_1 = res_{U, U_i} f_2$</span>, then <span class="mathjax">$f_1 = f_2$</span>.
          </li>
          <li>
            Gluability axiom: Given <span class="mathjax">$f_i \in \mathscr{F}(U_i)$</span> all agreeing pairwise, we can glue them together to make one differentiable function on all of <span class="mathjax">$U$</span>, <span class="mathjax">$f \in \mathscr{F}(U)$</span>.
          </li>
        </ol>
        <p>
          Here, the identity axiom asserts that there is atmost one way to glue, and the gluability axiom asserts that there is atleast one way to glue.
        </p>
        <p>
          As an example, consider <span class="mathjax">$\mathscr{F}(U \cup V) = \mathscr{F}(U) \times \mathscr{F}(V)$</span>. Here, we use the fact that <span class="mathjax">$\mathscr{F}(\phi)$</span> is the final object.
        </p>
        <p>
          The two axioms for a sheaf can be interpreted as "exactnesss" of the <mark><a href="/category/2#limits-and-products">equalizer</a> exact sequence</mark>:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \bullet \ar[r] & \mathscr{F}(U) \ar[r] & \prod \mathscr{F}(U_i)\ar@<-.5ex>[r]\ar@<.5ex>[r] & \prod \mathscr{F}(U_i \cap U_j)
          }
          \end{xy}
          $$
        </div>
        <p>
          where identity is exactness over <span class="mathjax">$\mathscr{F}(U)$</span>, and gluability is exactness over <span class="mathjax">$\prod \mathscr{F}(U_i)$</span>.
        </p>
        <p>
          As an example, consider the restriction of sheaf <span class="mathjax">$\mathscr{F}$</span> on <span class="mathjax">$U$</span>, <span class="mathjax">$\mathscr{F}|_U = \mathscr{F}|_U(V)$</span> for all open subsets <span class="mathjax">$V \subset U$</span>.
        </p>
        <p>
          As another example, consider the <mark>skyscraper sheaf</mark>. Suppose <span class="mathjax">$X$</span> is a topological space, <span class="mathjax">$p \in X$</span>, and <span class="mathjax">$S$</span> is a set. Let <span class="mathjax">$i_p : p \rightarrow X$</span> be the inclusion; then <span class="mathjax">$i_{p, *}S$</span> is defined by:<br/>
          $<span class="mathjax">$i_{p, *}S(U) = \begin{cases} S \quad p \in U \\ \{e\} \quad p \notin U \end{cases}$</span>$
        </p>
        <p>
          where <span class="mathjax">$\{e\}$</span> is any one-point set. This is called the skyscraper sheaf, because the informal picture looks like a skyscraper at point <span class="mathjax">$p$</span>.
        </p>
        <p>
          Let <span class="mathjax">$X$</span> be a topological space, and <span class="mathjax">$S$</span> a set. Then, <span class="mathjax">$\underline{S}_{\text{pre}}(U) = S$</span> for all open sets <span class="mathjax">$U$</span>, and <span class="mathjax">$\underline{S}_{\text{pre}}$</span> is called the <mark>constant presheaf</mark> associated to <span class="mathjax">$S$</span>.
        </p>
        <p>
          Let <span class="mathjax">$\mathscr{F}(U)$</span> be maps to <span class="mathjax">$S$</span> that are locally constant; i.e. for any point <span class="mathjax">$p \in U$</span>, there is an open neighborhood of <span class="mathjax">$p$</span> where the function is constant. This is called the <mark>constant sheaf</mark> associated to <span class="mathjax">$S$</span>, and is denoted by <span class="mathjax">$\underline{S}$</span>.
        </p>
        <p>
          Suppose <span class="mathjax">$\pi : X \rightarrow Y$</span> is a continuous map, and <span class="mathjax">$\mathscr{F}$</span> is a presheaf on <span class="mathjax">$X$</span>. Then define <span class="mathjax">$\pi_* \mathscr{F}$</span> by <span class="mathjax">$\pi_* \mathscr{F}(V) = \mathscr{F}(\pi^{-1}(V))$</span>, where <span class="mathjax">$V$</span> is an open subset of <span class="mathjax">$Y$</span>. Then, <span class="mathjax">$\pi_* \mathscr{F}$</span> is called the <mark>pushforward</mark> of <span class="mathjax">$\mathscr{F}$</span> by <span class="mathjax">$\pi$</span>. The skyscraper sheaf can be interpreted as a pushforward of the constant sheaf <span class="mathjax">$\underline{S}$</span> on a one-point space <span class="mathjax">$p$</span>, under the inclusion morphism <span class="mathjax">$i_p : \{p\} \rightarrow X$</span>.
        </p>
        <p>
          Example: Suppose <span class="mathjax">$\mathscr{O}_X$</span> is a sheaf of rings on topological space <span class="mathjax">$X$</span>; i.e. a sheaf on <span class="mathjax">$X$</span> with values in the category of rings. Then, <span class="mathjax">$(X, \mathscr{O}_X)$</span> is called a <mark>ringed space</mark>, and <span class="mathjax">$\mathscr{O}_X$</span> is called the <mark>structuce sheaf</mark> of the ringed space. Sections of <span class="mathjax">$\mathscr{O}_X$</span> on an open subset <span class="mathjax">$U$</span> are called the <mark>functions</mark> on <span class="mathjax">$U$</span>. The stalk of <span class="mathjax">$\mathscr{O}_X$</span> at point <span class="mathjax">$p$</span> is represented as <span class="mathjax">$\mathscr{O}_{X, p}$</span>.
        </p>
        <p>
          Just as we have modules over a ring, we have <span class="mathjax">$\mathscr{O}_X$</span>-modules over the sheaf of rings <span class="mathjax">$\mathscr{O}_X$</span>. The definition of <mark><span class="mathjax">$\mathscr{O}_X$</span>-module</mark> is a sheaf of abelian groups of <span class="mathjax">$\mathscr{F}$</span> along with the following additional structure: for each <span class="mathjax">$U$</span>, the sheaf <span class="mathjax">$\mathscr{F}(U)$</span> is an <span class="mathjax">$\mathscr{O}_X(U)$</span>-module, and given <span class="mathjax">$U \subset V$</span>, the following diagram commutes:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}(V) \times \mathscr{O}_X(V)\ar[r]\ar[d]_{\text{res}_{V, U} \times \text{res}_{V, U}} & \mathscr{F}(V)\ar[d]^{\text{res}_{V, U}} \\
          \mathscr{F}(U) \times \mathscr{O}_X(U)\ar[r] & \mathscr{F}(U)
          }
          \end{xy}
          $$
        </div>
        <p>
          Just as an <span class="mathjax">$A$</span>-module generalizes the notion of an abelian group, since an abelian group is the same thing as a <span class="mathjax">$\mathbb{Z}$</span>-module, an <span class="mathjax">$\mathscr{O}_X$</span>-module generalizes the notion of a sheaf of abelian groups, as the latter is the same thing as a <span class="mathjax">$\underline{\mathbb{Z}}$</span>-module.
        </p>
        <h2 id="morphisms-of-presheaves-and-sheaves">
          Morphisms of presheaves and sheaves
        </h2>
        <p>
          A morphism of presheaves or sheaves, <span class="mathjax">$\phi : \mathscr{F} \rightarrow \mathscr{G}$</span>, is the data of maps <span class="mathjax">$\phi(U) : \mathscr{F}(U) \rightarrow \mathscr{G}(U)$</span>, for all <span class="mathjax">$U$</span>, behaving well with respect to the restriction: if <span class="mathjax">$U \hookrightarrow V$</span>, then the following diagram commutes:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}(V)\ar[d]_{\text{res}_{V, U}}\ar[r]^{\phi(V)} & \mathscr{G}(V)\ar[d]^{\text{res}_{V, U}} \\
          \mathscr{F}(U)\ar[r]^{\phi(U)} & \mathscr{G}(U)
          }
          \end{xy}
          $$
        </div>
        <p>
          An example of a morphism of sheaves is that from differentiable functions on <span class="mathjax">$\mathbb{R}$</span> to continuous functions; this is a forgetful map, forgetting that functions are differentiable, and only remembering that they are continuous.
        </p>
        <p>
          If we interpret a presheaf on <span class="mathjax">$X$</span> as a functor from the category of open sets, then a morphism of presheaves on <span class="mathjax">$X$</span> is a natural transform.
        </p>
        <p>
          Suppose <span class="mathjax">$\mathscr{F}, \mathscr{G}$</span> are two sheaves in topological space <span class="mathjax">$X$</span>; then we define <span class="mathjax">$\textit{Hom}(\mathscr{F}, \mathscr{G})$</span> as:
        </p>
        <div class="mathjax">
          $$
          \textit{Hom}(\mathscr{F}, \mathscr{G})(U) := \text{Mor}(\mathscr{F}|_U, \mathscr{G}|_U)
          $$
        </div>
        <p>
          This is a sheaf, called <mark>sheaf <span class="mathjax">$\textit{Hom}$</span></mark>, of sets on <span class="mathjax">$X$</span>. The functor is contravariant in its first argument and covariant in its second argument. <span class="mathjax">$\textit{Hom}$</span>, however, does not commute with taking stalks; i.e. <span class="mathjax">$\textit{Hom}(\mathscr{F}, \mathscr{G})_p$</span> is not isomorphic to <span class="mathjax">$\textit{Hom}(\mathscr{F}_p, \mathscr{G}_p)$</span>.
        </p>
        <p>
          We can make module-like constructions using presheaves of abelian groups on a topological space <span class="mathjax">$X$</span>. We can clearly add maps of presheaves to get another map of presheaves. Indeed, <span class="mathjax">$(\phi + \psi)(V) = \phi(V) + \psi(V)$</span>. We say that presheaves of abelian groups form an additive category.
        </p>
        <p>
          If <span class="mathjax">$\phi : \mathscr{F} \rightarrow \mathscr{G}$</span> is a morphism of presheaves, then the <mark>kernel</mark> of this map is defined by <span class="mathjax">$(\text{ker}_\text{pre}\phi)(U) := \text{ker }\phi(U)$</span>. <span class="mathjax">$\text{ker}_\text{pre}\phi \rightarrow \mathscr{F}$</span> satisfies the universal property for kernels. The cokernel is defined similarly. It can readily be verified that presheaves of abelian groups form an <a href="/category/7">abelian category</a>.
        </p>
        <p>
          Sheaves of abelian groups also form an abelian category, albeit with an additional complication of <mark>sheafification</mark>. <span class="mathjax">$\text{Ab}_X$</span> forms an additive category, just as with presheaves, and the definition of kernel of a sheaf gives us no problems; in fact <span class="mathjax">$\text{ker}_\text{pre}\phi := \text{ker }\phi$</span>. The issue arises in cokernels.
        </p>
        <h2 id="sheafification">
          Sheafification
        </h2>
        <p>
          Lots of properties of sheaves can be checked at the level of stalks. This isn't true of presheaves, and reflects the local nature of sheaves.
        </p>
        <p>
          Suppose <span class="mathjax">$\mathscr{F}$</span> is a sheaf of abelian groups of <span class="mathjax">$X$</span>, and <span class="mathjax">$s$</span> is a global section of <span class="mathjax">$\mathscr{F}$</span>. Let the <mark>support</mark> of <span class="mathjax">$s$</span> be the points <span class="mathjax">$p \in X$</span> where <span class="mathjax">$s$</span> has a nonzero germ:<br/>
          $<span class="mathjax">$\text{Supp}(s) = \{p \in X \mid s_p \neq 0 \text{ in } \mathscr{F}_p\}$</span>$
        </p>
        <p>
          We can think of this as the subset of <span class="mathjax">$X$</span> "where section <span class="mathjax">$s$</span> lives". The complement is the locus where <span class="mathjax">$s$</span> is the <span class="mathjax">$0$</span>-section.
        </p>
        <p>
          We say that an element <span class="mathjax">$\prod_{p \in U} s_p$</span> of <span class="mathjax">$\prod_{p \in U} \mathscr{F}_p$</span> consists of <mark>compatible germs</mark>, for all <span class="mathjax">$p \in U$</span>, if there is some representative<br/>
          $<span class="mathjax">$\{U_p \text{ open in } U, \tilde{s}_p \in \mathscr{F}(U_p)\}$</span>$
        </p>
        <p>
          for <span class="mathjax">$s_p$</span> (where <span class="mathjax">$p \in U_p \subset U$</span>), such that the germ <span class="mathjax">$\tilde{s}_p$</span> is <span class="mathjax">$s_q$</span> for all <span class="mathjax">$q \in U_p$</span>. Equivalently, there an open cover <span class="mathjax">$\{U_i\}$</span> of <span class="mathjax">$U$</span> and sections <span class="mathjax">$f_i \in \mathscr{F}(U_i)$</span>, such that if <span class="mathjax">$p \in U_i$</span>, then <span class="mathjax">$s_p$</span> is the germ of <span class="mathjax">$s_i$</span> at <span class="mathjax">$p$</span>. Hence, any section <span class="mathjax">$s$</span> of <span class="mathjax">$\mathscr{F}$</span> over <span class="mathjax">$U$</span> gives a choice of compatible germs for <span class="mathjax">$U$</span>.
        </p>
        <p>
          Just as groupification gives an abelian group that best approximates to an abelian semigroup, sheafification gives a sheaf that best approximates to a presheaf, with an analogus universal property. If <span class="mathjax">$\mathscr{F}$</span> is a presheaf, then <span class="mathjax">$\text{sh} : \mathscr{F} \rightarrow \mathscr{F}^\text{sh}$</span> on <span class="mathjax">$X$</span> is the <mark>sheafification</mark> of <span class="mathjax">$\mathscr{F}$</span>. If <span class="mathjax">$\mathscr{F}^\text{sh}$</span> is a sheaf, then for any sheaf <span class="mathjax">$\mathscr{G}$</span>, and the presheaf morphism <span class="mathjax">$g : \mathscr{F} \rightarrow \mathscr{G}$</span>, there exists a unique morphism of sheaves <span class="mathjax">$f : \mathscr{F}^\text{sh} \rightarrow \mathscr{G}$</span> making the following diagram commute:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]^{\text{sh}}\ar[dr]_g & \mathscr{F}^{\text{sh}}\ar[d]^f \\
          & \mathscr{G}
          }
          \end{xy}
          $$
        </div>
        <p>
          Next, we want to show that any presheaf has a sheafification. Indeed, define <span class="mathjax">$\mathscr{F}^\text{sh}(U)$</span> to be the set of compatible germs of the presheaf <span class="mathjax">$\mathscr{F}$</span> over <span class="mathjax">$U$</span>. More precisely, <span class="mathjax">$\mathscr{F}^\text{sh}(U) = \{(f_p \in \mathscr{F}_p)_{p \in U}\}$</span> such that for all <span class="mathjax">$p \in U$</span>, there exists an open neighborhood <span class="mathjax">$V$</span> of <span class="mathjax">$p$</span> contained in <span class="mathjax">$U$</span>, and <span class="mathjax">$s \in \mathscr{F}(V)$</span> with <span class="mathjax">$s_q = f_q$</span> for all <span class="mathjax">$q \in V$</span>. Here, <span class="mathjax">$s_q$</span> means the germ of <span class="mathjax">$s$</span> at <span class="mathjax">$q$</span>; i.e. the image of <span class="mathjax">$s$</span> in the stalk <span class="mathjax">$\mathscr{F}_q$</span>.
        </p>
        <p>
          Let <span class="mathjax">$\phi : \mathscr{F} \rightarrow \mathscr{G}$</span> be a morphism of sheaves on topological space <span class="mathjax">$X$</span>. Then <span class="mathjax">$\mathscr{G}$</span> is called the <mark>quotient sheaf</mark> of <span class="mathjax">$\mathscr{F}$</span> if <span class="mathjax">$\phi$</span> is an epimorphism in the category of sheaves, or equivalently if <span class="mathjax">$\phi$</span> is surjective on the level of stalks: <span class="mathjax">$\phi_p : \mathscr{F}_p \rightarrow \mathscr{G}_p$</span> is surjective for all <span class="mathjax">$p \in X$</span>. Monomorphism and epimorphism - <mark>sheafiness</mark> and <mark>quotient sheafiness</mark> - may be checked at the level of stalks.
        </p>
        <p>
          As an example, consider the <mark>exponential exact sequence</mark>. Let <span class="mathjax">$X = \mathbb{C}$</span> in classical topology, <span class="mathjax">$\mathscr{O}_X$</span> be the sheaf of holomorphic functions, and <span class="mathjax">$\mathscr{O}^*_X$</span> be the sheaf of invertible holomorphic functions. This is a sheaf of abelian groups under multiplication. We have the map:
        </p>
        <div class="mathjax">
          $$
          0 \rightarrow \underline{\mathbb{Z}} \xrightarrow{\times 2 \pi i} \mathscr{O}_X \xrightarrow{\text{exp}} \mathscr{O}^*_X \rightarrow 1
          $$
        </div>
        <p>
          where <span class="mathjax">$\underline{\mathbb{Z}}$</span> is the constant sheaf associated to <span class="mathjax">$\mathbb{Z}$</span>.
        </p>
        <h2 id="sheaves-on-a-base">
          Sheaves on a base
        </h2>
        <p>
          We have discussed how to get a hold of sheaves using stalks (invoking compatible germs), and we describe the second way now. Suppose we have the sheaf <span class="mathjax">$\mathscr{F}$</span> on topological space, and a base <span class="mathjax">${B_i}$</span> of open sets on <span class="mathjax">$X$</span>. Then, consider the following information:
        </p>
        <div class="mathjax">
          $$
          (\{f(B_i)\}, \{\text{res}_{B_i, B_j} : \mathscr{F}(B_i) \rightarrow \mathscr{F}(B_j)\})
          $$
        </div>
        <p>
          We can recover the sheaf from this information, because we can recover stalks when germs are compatible.
        </p>
        <p>
          A sheaf on <span class="mathjax">$\{B_i\}$</span> is the following information. For each base in <span class="mathjax">$\{B_i\}$</span>, we have the set <span class="mathjax">$F(B_i)$</span>. If <span class="mathjax">$B_i \subset B_j$</span>, then we have <span class="mathjax">$\text{res}_{B_j, B_i} : F(B_j) \rightarrow F(B_i)$</span> with <span class="mathjax">$\text{res}_{B_i, B_i} = id_{F(B_i)}$</span>. Further, if <span class="mathjax">$B_i \subset B_j \subset B_k$</span>, then <span class="mathjax">$\text{res}_{B_k, B_i} = \text{res}_{B_j, B_i} \circ \text{res}_{B_k, B_j}$</span>. This is the definition of <mark>presheaf on a base</mark>. For the definition of <mark>sheaf on a base</mark>, we need two additional axioms:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            The base identity axiom. If <span class="mathjax">$B = \cup B_i$</span>, then if <span class="mathjax">$f, g \in F(B)$</span> such that <span class="mathjax">$\text{res}_{B, B_i} f = \text{res}_{B, B_i} g$</span> for all <span class="mathjax">$i$</span>, then <span class="mathjax">$f = g$</span>.
          </li>
          <li>
            The base gluability axiom. If <span class="mathjax">$B = \cup B_i$</span>, and we have <span class="mathjax">$f_i \in B_i$</span> such that <span class="mathjax">$f_i$</span> agress with <span class="mathjax">$f_j$</span> on any basic open set <span class="mathjax">$B_i \cap B_j$</span>, then there exists <span class="mathjax">$f \in B$</span> such that <span class="mathjax">$\text{res}_{B, B_i} f_i = f$</span> for all <span class="mathjax">$i$</span>.
          </li>
        </ol>
        <p>
          Suppose <span class="mathjax">$B_i$</span> is a base on <span class="mathjax">$X$</span>, and <span class="mathjax">$F$</span> is a sheaf of sets on this base, then there exists sheaf <span class="mathjax">$\mathscr{F}$</span> extending <span class="mathjax">$F$</span>, with isomorphisms <span class="mathjax">$\mathscr{F}(B_i) \cong F(B_i)$</span> agreeing with restriction maps. This sheaf <span class="mathjax">$\mathscr{F}$</span> is unique upto isomorphism. To prove this, let <span class="mathjax">$\mathscr{F}$</span> be the sheaf of compatible germs of <span class="mathjax">$F$</span>. Define stalk of a presheaf <span class="mathjax">$F$</span> on a base <span class="mathjax">$p \in X$</span> by <span class="mathjax">$F_p = \underset{\longrightarrow}{\text{Lim }} F(B_i)$</span> where colimit is over all <span class="mathjax">$B_i$</span> in the base containing <span class="mathjax">$p$</span>. A family of germs in open set <span class="mathjax">$U$</span> is compatible near <span class="mathjax">$p$</span> if there is a section <span class="mathjax">$s$</span> over some <span class="mathjax">$B_i$</span> containing <span class="mathjax">$p$</span> such that the germs over <span class="mathjax">$B_i$</span> are the germs of <span class="mathjax">$s$</span>; more precisely,<br/>
          $<span class="mathjax">$\mathscr{F}(U) = \{(f_p \in F_p)_{p \in U}\}$</span>$
        </p>
        <p>
          such that for all <span class="mathjax">$p \in U$</span> there exists <span class="mathjax">$B$</span> with <span class="mathjax">$p \in B \subset U$</span>, <span class="mathjax">$s \in F(B)$</span>, with <span class="mathjax">$s_q = f_q$</span> for all <span class="mathjax">$q \in B$</span>, where <span class="mathjax">$B$</span> is in our base. This a sheaf for the same reason a sheaf of compatible germs was. Now, we claim that <span class="mathjax">$F(B) \rightarrow \mathscr{F}(B)$</span> is an isomorphism, and that <span class="mathjax">$\mathscr{F}$</span> is unique upto isomorphism, completing our proof.
        </p>
        <h2 id="sheaves-are-abelian-categories">
          Sheaves are abelian categories
        </h2>
        <p>
          We will see that sheaves of abelian groups and <span class="mathjax">$\mathscr{O}_X$</span>-modules are abelian categories. The properties of kernels, cokernels, exactness and so forth can be understood at the level of stalks (which are just abelian groups), and compatibility of germs will come for free.
        </p>
        <p>
          We have shown that the category of sheaves is an additive category. To show that it is an abelian category, we must show that <span class="mathjax">$\phi : \mathscr{F} \rightarrow \mathscr{G}$</span> has a kernel and cokernel. We have already shown that it has a kernel: the presheaf kernel is a sheaf, and is a kernel in the category of sheaves. Further, <span class="mathjax">$\phi : \mathscr{F} \rightarrow \mathscr{G}$</span> has a cokernel in the category of presheaves: call it <span class="mathjax">$\mathscr{H}_\text{pre}$</span>, and let <span class="mathjax">$\text{sh} : \mathscr{H}_\text{pre} \rightarrow \mathscr{H}$</span> be its sheafification. Then the cokernel is the colimit of the diagram:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]\ar[d] & \mathscr{G} \\
          0 &
          }
          \end{xy}
          $$
        </div>
        <p>
          Now, the morphism <span class="mathjax">$\mathscr{G} \rightarrow \mathscr{H}$</span> is a cokernel of <span class="mathjax">$\phi$</span> in the category of sheaves. To prove this, consider the following diagram, where <span class="mathjax">$\mathscr{E}$</span> is any sheaf:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]^\phi\ar[d] & \mathscr{G}\ar[d] \\
          0\ar[r] & \mathscr{E}
          }
          \end{xy}
          $$
        </div>
        <p>
          We construct:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]^\phi\ar[d] & \mathscr{G}\ar[d]\ar@/^1pc/[rrdd] & & \\
          0\ar[r]\ar@/_/[rrrd] & \mathscr{H}_{\text{pre}}\ar[r]^{\text{sh}} & \mathscr{H} & \\
          & & & \mathscr{E}
          }
          \end{xy}
          $$
        </div>
        <p>
          We want to show that there is a unique morphism <span class="mathjax">$\mathscr{H} \rightarrow \mathscr{E}$</span>. Since <span class="mathjax">$\mathscr{H}_\text{pre}$</span> is a cokernel in the category of presheaves, there exists a unique morphism of presheaves <span class="mathjax">$\mathscr{H}_\text{pre} \rightarrow \mathscr{E}$</span>. By universality of sheafification, there is a unique morphism <span class="mathjax">$\mathscr{H} \rightarrow \mathscr{E}$</span> making the diagram commute. Hence, we have shown that the sheaves of abelian groups over topological space <span class="mathjax">$X$</span> form an abelian category. Everything we've discussed carries over to sheaves of <span class="mathjax">$\mathscr{O}_X$</span>-modules identically, because a sequence of <span class="mathjax">$\mathscr{O}_X$</span>-modules is exact iff the underlying sequence of abelian groups is exact.
        </p>
        <h2 id="inverse-image-sheaf">
          Inverse image sheaf
        </h2>
        <p>
          Given continuous map <span class="mathjax">$\pi : X \rightarrow Y$</span>, we get <span class="mathjax">$\pi^{-1} : Y \rightarrow X$</span>. Define <span class="mathjax">$\pi^{-1}$</span> as <a href="/category/3#adjunctions">left-adjoint</a> to <span class="mathjax">$\pi_*$</span>. We then get canonical maps from <span class="mathjax">$\pi^{-1}\pi_* \mathscr{F} \rightarrow \mathscr{F}$</span> associated to the identity morphism <span class="mathjax">$\text{Mor}_Y(\pi_* \mathscr{F}, \pi_* \mathscr{F})$</span> and <span class="mathjax">$\mathscr{G} \rightarrow \pi_*\pi^{-1} \mathscr{G}$</span> associated to the identity morphism <span class="mathjax">$\text{Mor}_X(\pi^{-1}\mathscr{G}, \pi^{-1}\mathscr{G})$</span>:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          & \pi^{-1}\mathscr{G}\ar[r] & \mathscr{F} \\
          X\ar@{-}[ur]\ar@{-}[urr]\ar[d]^\pi & \mathscr{G}\ar[r] & \pi_* \mathscr{F} \\
          Y\ar@{-}[ur]\ar@{-}[urr] & &
          }
          \end{xy}
          $$
        </div>
      </article>
    </main>
  </body>
</html>