<!DOCTYPE html>
<html lang="en">
  <head>
    <title>[ag/1] Sheaves | artagnon.com</title>
    <meta charset="utf-8" />
    <meta name="description" content="Ramkumar Ramachandra&#39;s personal website" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index,follow" />
    <link rel="icon" href="/dist/artagnon.com.svg" />
    <link rel="mask-icon" href="/dist/mask-icon.svg" color="#000000" />
    <link rel="stylesheet" href="/dist/style.min.css" />
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/cash/6.0.1/cash.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/dayjs.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/plugin/relativeTime.min.js"></script>
    <script defer="" id="MathJax-script" src="//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"></script>
    <script>
      MathJax = {
        loader: {
          load: ['[custom]/xypic.min.js'],
          paths: {custom: '/dist'}
        },
        tex: {
          packages: {'[+]': ['xypic']},
          inlineMath: [['$', '$']]
        }
      };
    </script>
    <link rel="preload" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" />
    <noscript>
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" />
    </noscript>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/coq.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/cpp.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/haskell.min.js"></script>
    <script defer="" src="/dist/script.min.js"></script>
  </head>
  <body>
    <nav>
      <div>
        <a href="/"><img src="/dist/artagnon.com.svg" alt="home" /></a>
      </div>
      <div>
        <ul>
          <li>
            <a href="/articles">articles</a>
          </li>
          <li>
            <a href="/computing">computing</a>
          </li>
          <li>
            <a href="/math">math</a>
          </li>
        </ul>
      </div>
    </nav>
    <main>
      <header class="wrapper">
        <h1>
          [ag/1] Sheaves
        </h1>
        <div id="metadata">
          <span id="timestamp"><time datetime="2019-03-04" class="begin">Mon, 04 Mar 2019 12:03:50 +0530</time><span class="to">â†ª</span><time datetime="2020-12-16" class="end">Wed, 16 Dec 2020 10:34:05 +0100</time></span><br /><span id="locations"><address>Paris, Chennai</address></span>
        </div>
      </header>
      <article class="wrapper">
        <p>
          Informally speaking, the collection of all functions on all open subsets of a space is termed as a <mark>sheaf</mark>. There are several ways of getting hold of them:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            In terms of open sets.
          </li>
          <li>
            In terms of stalks.
          </li>
          <li>
            In terms of a base of a topology.
          </li>
        </ol>
        <h2 id="germ-of-differentiable-functions">
          Germ of differentiable functions
        </h2>
        <p>
          The ring of functions on each open set $U \subset X$ of topological space $X$ is written as $\mathscr{O}(U)$. If $W \hookrightarrow V \hookrightarrow U$, then the following diagram commutes:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{O}(U)\ar[rr]^{\text{res}_{U, V}}\ar[rd]_{\text{res}_{U, W}} & & \mathscr{O}(V)\ar[ld]^{\text{res}_{V, W}} \\
          & \mathscr{O}(W) &
          }
          \end{xy}
          $$
        </div>
        <p>
          Two additional facts:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            Let $U_i$ be a covering of $U$, and $f_1, f_2 \in \mathscr{O}(U)$. If $f_1 = res_{U, U_i} f_2$, then $f_1 = f_2$. Thus, we can identify functions by looking at them on a covering of open sets.
          </li>
          <li>
            Given $f_i \in \mathscr{O}(U_i)$ all agreeing pairwise, we can glue them together to make one differentiable function on all of $U$, $f \in \mathscr{O}(U)$.
          </li>
        </ol>
        <p>
          <mark>Germ</mark> of a differentiable function $f$ at a point $p$ is defined as:<br/>
          $$\{f, \text{open } U \mid p \in U, f \in \mathscr{O}(U)\}$$
        </p>
        <p>
          modulo the relation $(f, U) \sim (g, V)$, if there is some open set $W \subset U$, $p \in V$, such that $f|_W = g|_W$ (i.e. $\text{res}_{U, W} f = \text{res}_{V, W} g$). Intuitively, two functions that are the same in an open neighborhood of $p$, but different elsewhere, have the same germ. We call this set of germs at $p$ the <mark>stalk</mark> at $p$, denoted by $\mathscr{O}_p$. If $f$ is defined on $U$ and $g$ is defined on $V$, then $f + g$ is defined on $U \cap V$. If additionally, $p \in U$ then we get the map $\mathscr{O}(U) \rightarrow \mathscr{O}_p$. We're talking about germs as <a href="/category/2#coproducts-and-colimits">colimits</a>. Moreover, $\mathscr{O}_p$ is a local ring, since it has exactly one maximal ideal $m_p \subset \mathscr{O}_p$, the ideal of germs vanishing at $p$. We can interpret the value of the function, or the value of the germ, at a point, as an element of the local ring modulo the maximal ideal: this doesn't work for all sheaves, but does work for things behaving like sheaves of functions, formalized later as a <mark>locally ringed space</mark>.
        </p>
        <h2 id="definition-of-presheaf-and-sheaf">
          Definition of presheaf and sheaf
        </h2>
        <p>
          We will be considering sheafs on sets, and this can be done without loss in generality. The fact that $\mathscr{F}$ is a presheaf or sheaf on topological space $X$ is written as:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar@{-}[d] \\
          X
          }
          \end{xy}
          $$
        </div>
        <p>
          A <mark>presheaf</mark> $\mathscr{F}$ on topological space $X$ is the following data:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            To each open set $U \subset X$, we have a set $\mathscr{F}(U) = \Gamma(U, \mathscr{F}) = H^0(U, \mathscr{F})$. The elements of $\mathscr{F}(U)$ are called the <mark>sections</mark> of $\mathscr{F}$.
          </li>
          <li>
            For each inclusion $U \hookrightarrow V$ of open sets, we have the restriction map $\text{res}_{V, U}: \mathscr{F}(V) \rightarrow \mathscr{F}(U)$.
          </li>
        </ol>
        <p>
          The data is required to satisfy identity and composition:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            $\text{res}_{U, U} = \text{id}_{\mathscr{F}(U)}$.
          </li>
          <li>
            For the inclusion $W \hookrightarrow V \hookrightarrow U$, the following diagram commutes:
          </li>
        </ol>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}(U)\ar[rr]^{\text{res}_{U, V}}\ar[rd]_{\text{res}_{U, W}} & & \mathscr{F}(V)\ar[ld]^{\text{res}_{V, W}} \\
          & \mathscr{F}(W) &
          }
          \end{xy}
          $$
        </div>
        <p>
          A presheaf is the same thing as a contravariant functor.
        </p>
        <p>
          The stalk of a presheaf $\mathscr{F}$ is defined to be the set of germs of $\mathscr{F}$ at point $p$, denoted $\mathscr{F}_p$:<br/>
          $$\mathscr{F}_p = \{f, \text{open } U \mid p \in U, f \in \mathscr{F}(U)\}$$
        </p>
        <p>
          modulo the relation $(f, U) \sim (g, V)$, where $f|_W = g|_W$.
        </p>
        <p>
          Another equivalent definition in terms of colimits is:<br/>
          $$\mathscr{F}_p = \underset{\longrightarrow}{\text{Lim }} \mathscr{F}(U)$$
        </p>
        <p>
          If $p \in U, f \in \mathscr{F}(U)$, then $\mathscr{F}_p$ is called the ring of germs of $f$ at point $p$.
        </p>
        <p>
          A sheaf is defined as a presheaf along with two additional axioms:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            Identity axiom: Let $U_i$ be a covering of $U$, and $f_1, f_2 \in \mathscr{F}(U)$. If $f_1 = res_{U, U_i} f_2$, then $f_1 = f_2$.
          </li>
          <li>
            Gluability axiom: Given $f_i \in \mathscr{F}(U_i)$ all agreeing pairwise, we can glue them together to make one differentiable function on all of $U$, $f \in \mathscr{F}(U)$.
          </li>
        </ol>
        <p>
          Here, the identity axiom asserts that there is atmost one way to glue, and the gluability axiom asserts that there is atleast one way to glue.
        </p>
        <p>
          As an example, consider $\mathscr{F}(U \cup V) = \mathscr{F}(U) \times \mathscr{F}(V)$. Here, we use the fact that $\mathscr{F}(\phi)$ is the final object.
        </p>
        <p>
          The two axioms for a sheaf can be interpreted as "exactnesss" of the <mark><a href="/category/2#limits-and-products">equalizer</a> exact sequence</mark>:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \bullet \ar[r] & \mathscr{F}(U) \ar[r] & \prod \mathscr{F}(U_i)\ar@<-.5ex>[r]\ar@<.5ex>[r] & \prod \mathscr{F}(U_i \cap U_j)
          }
          \end{xy}
          $$
        </div>
        <p>
          where identity is exactness over $\mathscr{F}(U)$, and gluability is exactness over $\prod \mathscr{F}(U_i)$.
        </p>
        <p>
          As an example, consider the restriction of sheaf $\mathscr{F}$ on $U$, $\mathscr{F}|_U = \mathscr{F}|_U(V)$ for all open subsets $V \subset U$.
        </p>
        <p>
          As another example, consider the <mark>skyscraper sheaf</mark>. Suppose $X$ is a topological space, $p \in X$, and $S$ is a set. Let $i_p : p \rightarrow X$ be the inclusion; then $i_{p, *}S$ is defined by:<br/>
          $$i_{p, *}S(U) = \begin{cases} S \quad p \in U \\ \{e\} \quad p \notin U \end{cases}$$
        </p>
        <p>
          where $\{e\}$ is any one-point set. This is called the skyscraper sheaf, because the informal picture looks like a skyscraper at point $p$.
        </p>
        <p>
          Let $X$ be a topological space, and $S$ a set. Then, $\underline{S}_{\text{pre}}(U) = S$ for all open sets $U$, and $\underline{S}_{\text{pre}}$ is called the <mark>constant presheaf</mark> associated to $S$.
        </p>
        <p>
          Let $\mathscr{F}(U)$ be maps to $S$ that are locally constant; i.e. for any point $p \in U$, there is an open neighborhood of $p$ where the function is constant. This is called the <mark>constant sheaf</mark> associated to $S$, and is denoted by $\underline{S}$.
        </p>
        <p>
          Suppose $\pi : X \rightarrow Y$ is a continuous map, and $\mathscr{F}$ is a presheaf on $X$. Then define $\pi_* \mathscr{F}$ by $\pi_* \mathscr{F}(V) = \mathscr{F}(\pi^{-1}(V))$, where $V$ is an open subset of $Y$. Then, $\pi_* \mathscr{F}$ is called the <mark>pushforward</mark> of $\mathscr{F}$ by $\pi$. The skyscraper sheaf can be interpreted as a pushforward of the constant sheaf $\underline{S}$ on a one-point space $p$, under the inclusion morphism $i_p : \{p\} \rightarrow X$.
        </p>
        <p>
          Example: Suppose $\mathscr{O}_X$ is a sheaf of rings on topological space $X$; i.e. a sheaf on $X$ with values in the category of rings. Then, $(X, \mathscr{O}_X)$ is called a <mark>ringed space</mark>, and $\mathscr{O}_X$ is called the <mark>structuce sheaf</mark> of the ringed space. Sections of $\mathscr{O}_X$ on an open subset $U$ are called the <mark>functions</mark> on $U$. The stalk of $\mathscr{O}_X$ at point $p$ is represented as $\mathscr{O}_{X, p}$.
        </p>
        <p>
          Just as we have modules over a ring, we have $\mathscr{O}_X$-modules over the sheaf of rings $\mathscr{O}_X$. The definition of <mark>$\mathscr{O}_X$-module</mark> is a sheaf of abelian groups of $\mathscr{F}$ along with the following additional structure: for each $U$, the sheaf $\mathscr{F}(U)$ is an $\mathscr{O}_X(U)$-module, and given $U \subset V$, the following diagram commutes:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}(V) \times \mathscr{O}_X(V)\ar[r]\ar[d]_{\text{res}_{V, U} \times \text{res}_{V, U}} & \mathscr{F}(V)\ar[d]^{\text{res}_{V, U}} \\
          \mathscr{F}(U) \times \mathscr{O}_X(U)\ar[r] & \mathscr{F}(U)
          }
          \end{xy}
          $$
        </div>
        <p>
          Just as an $A$-module generalizes the notion of an abelian group, since an abelian group is the same thing as a $\mathbb{Z}$-module, an $\mathscr{O}_X$-module generalizes the notion of a sheaf of abelian groups, as the latter is the same thing as a $\underline{\mathbb{Z}}$-module.
        </p>
        <h2 id="morphisms-of-presheaves-and-sheaves">
          Morphisms of presheaves and sheaves
        </h2>
        <p>
          A morphism of presheaves or sheaves, $\phi : \mathscr{F} \rightarrow \mathscr{G}$, is the data of maps $\phi(U) : \mathscr{F}(U) \rightarrow \mathscr{G}(U)$, for all $U$, behaving well with respect to the restriction: if $U \hookrightarrow V$, then the following diagram commutes:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}(V)\ar[d]_{\text{res}_{V, U}}\ar[r]^{\phi(V)} & \mathscr{G}(V)\ar[d]^{\text{res}_{V, U}} \\
          \mathscr{F}(U)\ar[r]^{\phi(U)} & \mathscr{G}(U)
          }
          \end{xy}
          $$
        </div>
        <p>
          An example of a morphism of sheaves is that from differentiable functions on $\mathbb{R}$ to continuous functions; this is a forgetful map, forgetting that functions are differentiable, and only remembering that they are continuous.
        </p>
        <p>
          If we interpret a presheaf on $X$ as a functor from the category of open sets, then a morphism of presheaves on $X$ is a natural transform.
        </p>
        <p>
          Suppose $\mathscr{F}, \mathscr{G}$ are two sheaves in topological space $X$; then we define $\textit{Hom}(\mathscr{F}, \mathscr{G})$ as:
        </p>
        <div class="mathjax">
          $$
          \textit{Hom}(\mathscr{F}, \mathscr{G})(U) := \text{Mor}(\mathscr{F}|_U, \mathscr{G}|_U)
          $$
        </div>
        <p>
          This is a sheaf, called <mark>sheaf $\textit{Hom}$</mark>, of sets on $X$. The functor is contravariant in its first argument and covariant in its second argument. $\textit{Hom}$, however, does not commute with taking stalks; i.e. $\textit{Hom}(\mathscr{F}, \mathscr{G})_p$ is not isomorphic to $\textit{Hom}(\mathscr{F}_p, \mathscr{G}_p)$.
        </p>
        <p>
          We can make module-like constructions using presheaves of abelian groups on a topological space $X$. We can clearly add maps of presheaves to get another map of presheaves. Indeed, $(\phi + \psi)(V) = \phi(V) + \psi(V)$. We say that presheaves of abelian groups form an additive category.
        </p>
        <p>
          If $\phi : \mathscr{F} \rightarrow \mathscr{G}$ is a morphism of presheaves, then the <mark>kernel</mark> of this map is defined by $(\text{ker}_\text{pre}\phi)(U) := \text{ker }\phi(U)$. $\text{ker}_\text{pre}\phi \rightarrow \mathscr{F}$ satisfies the universal property for kernels. The cokernel is defined similarly. It can readily be verified that presheaves of abelian groups form an <a href="/category/7">abelian category</a>.
        </p>
        <p>
          Sheaves of abelian groups also form an abelian category, albeit with an additional complication of <mark>sheafification</mark>. $\text{Ab}_X$ forms an additive category, just as with presheaves, and the definition of kernel of a sheaf gives us no problems; in fact $\text{ker}_\text{pre}\phi := \text{ker }\phi$. The issue arises in cokernels.
        </p>
        <h2 id="sheafification">
          Sheafification
        </h2>
        <p>
          Lots of properties of sheaves can be checked at the level of stalks. This isn't true of presheaves, and reflects the local nature of sheaves.
        </p>
        <p>
          Suppose $\mathscr{F}$ is a sheaf of abelian groups of $X$, and $s$ is a global section of $\mathscr{F}$. Let the <mark>support</mark> of $s$ be the points $p \in X$ where $s$ has a nonzero germ:<br/>
          $$\text{Supp}(s) = \{p \in X \mid s_p \neq 0 \text{ in } \mathscr{F}_p\}$$
        </p>
        <p>
          We can think of this as the subset of $X$ "where section $s$ lives". The complement is the locus where $s$ is the $0$-section.
        </p>
        <p>
          We say that an element $\prod_{p \in U} s_p$ of $\prod_{p \in U} \mathscr{F}_p$ consists of <mark>compatible germs</mark>, for all $p \in U$, if there is some representative<br/>
          $$\{U_p \text{ open in } U, \tilde{s}_p \in \mathscr{F}(U_p)\}$$
        </p>
        <p>
          for $s_p$ (where $p \in U_p \subset U$), such that the germ $\tilde{s}_p$ is $s_q$ for all $q \in U_p$. Equivalently, there an open cover $\{U_i\}$ of $U$ and sections $f_i \in \mathscr{F}(U_i)$, such that if $p \in U_i$, then $s_p$ is the germ of $s_i$ at $p$. Hence, any section $s$ of $\mathscr{F}$ over $U$ gives a choice of compatible germs for $U$.
        </p>
        <p>
          Just as groupification gives an abelian group that best approximates to an abelian semigroup, sheafification gives a sheaf that best approximates to a presheaf, with an analogus universal property. If $\mathscr{F}$ is a presheaf, then $\text{sh} : \mathscr{F} \rightarrow \mathscr{F}^\text{sh}$ on $X$ is the <mark>sheafification</mark> of $\mathscr{F}$. If $\mathscr{F}^\text{sh}$ is a sheaf, then for any sheaf $\mathscr{G}$, and the presheaf morphism $g : \mathscr{F} \rightarrow \mathscr{G}$, there exists a unique morphism of sheaves $f : \mathscr{F}^\text{sh} \rightarrow \mathscr{G}$ making the following diagram commute:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]^{\text{sh}}\ar[dr]_g & \mathscr{F}^{\text{sh}}\ar[d]^f \\
          & \mathscr{G}
          }
          \end{xy}
          $$
        </div>
        <p>
          Next, we want to show that any presheaf has a sheafification. Indeed, define $\mathscr{F}^\text{sh}(U)$ to be the set of compatible germs of the presheaf $\mathscr{F}$ over $U$. More precisely, $\mathscr{F}^\text{sh}(U) = \{(f_p \in \mathscr{F}_p)_{p \in U}\}$ such that for all $p \in U$, there exists an open neighborhood $V$ of $p$ contained in $U$, and $s \in \mathscr{F}(V)$ with $s_q = f_q$ for all $q \in V$. Here, $s_q$ means the germ of $s$ at $q$; i.e. the image of $s$ in the stalk $\mathscr{F}_q$.
        </p>
        <p>
          Let $\phi : \mathscr{F} \rightarrow \mathscr{G}$ be a morphism of sheaves on topological space $X$. Then $\mathscr{G}$ is called the <mark>quotient sheaf</mark> of $\mathscr{F}$ if $\phi$ is an epimorphism in the category of sheaves, or equivalently if $\phi$ is surjective on the level of stalks: $\phi_p : \mathscr{F}_p \rightarrow \mathscr{G}_p$ is surjective for all $p \in X$. Monomorphism and epimorphism - <mark>sheafiness</mark> and <mark>quotient sheafiness</mark> - may be checked at the level of stalks.
        </p>
        <p>
          As an example, consider the <mark>exponential exact sequence</mark>. Let $X = \mathbb{C}$ in classical topology, $\mathscr{O}_X$ be the sheaf of holomorphic functions, and $\mathscr{O}^*_X$ be the sheaf of invertible holomorphic functions. This is a sheaf of abelian groups under multiplication. We have the map:
        </p>
        <div class="mathjax">
          $$
          0 \rightarrow \underline{\mathbb{Z}} \xrightarrow{\times 2 \pi i} \mathscr{O}_X \xrightarrow{\text{exp}} \mathscr{O}^*_X \rightarrow 1
          $$
        </div>
        <p>
          where $\underline{\mathbb{Z}}$ is the constant sheaf associated to $\mathbb{Z}$.
        </p>
        <h2 id="sheaves-on-a-base">
          Sheaves on a base
        </h2>
        <p>
          We have discussed how to get a hold of sheaves using stalks (invoking compatible germs), and we describe the second way now. Suppose we have the sheaf $\mathscr{F}$ on topological space, and a base ${B_i}$ of open sets on $X$. Then, consider the following information:
        </p>
        <div class="mathjax">
          $$
          (\{f(B_i)\}, \{\text{res}_{B_i, B_j} : \mathscr{F}(B_i) \rightarrow \mathscr{F}(B_j)\})
          $$
        </div>
        <p>
          We can recover the sheaf from this information, because we can recover stalks when germs are compatible.
        </p>
        <p>
          A sheaf on $\{B_i\}$ is the following information. For each base in $\{B_i\}$, we have the set $F(B_i)$. If $B_i \subset B_j$, then we have $\text{res}_{B_j, B_i} : F(B_j) \rightarrow F(B_i)$ with $\text{res}_{B_i, B_i} = id_{F(B_i)}$. Further, if $B_i \subset B_j \subset B_k$, then $\text{res}_{B_k, B_i} = \text{res}_{B_j, B_i} \circ \text{res}_{B_k, B_j}$. This is the definition of <mark>presheaf on a base</mark>. For the definition of <mark>sheaf on a base</mark>, we need two additional axioms:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            The base identity axiom. If $B = \cup B_i$, then if $f, g \in F(B)$ such that $\text{res}_{B, B_i} f = \text{res}_{B, B_i} g$ for all $i$, then $f = g$.
          </li>
          <li>
            The base gluability axiom. If $B = \cup B_i$, and we have $f_i \in B_i$ such that $f_i$ agress with $f_j$ on any basic open set $B_i \cap B_j$, then there exists $f \in B$ such that $\text{res}_{B, B_i} f_i = f$ for all $i$.
          </li>
        </ol>
        <p>
          Suppose $B_i$ is a base on $X$, and $F$ is a sheaf of sets on this base, then there exists sheaf $\mathscr{F}$ extending $F$, with isomorphisms $\mathscr{F}(B_i) \cong F(B_i)$ agreeing with restriction maps. This sheaf $\mathscr{F}$ is unique upto isomorphism. To prove this, let $\mathscr{F}$ be the sheaf of compatible germs of $F$. Define stalk of a presheaf $F$ on a base $p \in X$ by $F_p = \underset{\longrightarrow}{\text{Lim }} F(B_i)$ where colimit is over all $B_i$ in the base containing $p$. A family of germs in open set $U$ is compatible near $p$ if there is a section $s$ over some $B_i$ containing $p$ such that the germs over $B_i$ are the germs of $s$; more precisely,<br/>
          $$\mathscr{F}(U) = \{(f_p \in F_p)_{p \in U}\}$$
        </p>
        <p>
          such that for all $p \in U$ there exists $B$ with $p \in B \subset U$, $s \in F(B)$, with $s_q = f_q$ for all $q \in B$, where $B$ is in our base. This a sheaf for the same reason a sheaf of compatible germs was. Now, we claim that $F(B) \rightarrow \mathscr{F}(B)$ is an isomorphism, and that $\mathscr{F}$ is unique upto isomorphism, completing our proof.
        </p>
        <h2 id="sheaves-are-abelian-categories">
          Sheaves are abelian categories
        </h2>
        <p>
          We will see that sheaves of abelian groups and $\mathscr{O}_X$-modules are abelian categories. The properties of kernels, cokernels, exactness and so forth can be understood at the level of stalks (which are just abelian groups), and compatibility of germs will come for free.
        </p>
        <p>
          We have shown that the category of sheaves is an additive category. To show that it is an abelian category, we must show that $\phi : \mathscr{F} \rightarrow \mathscr{G}$ has a kernel and cokernel. We have already shown that it has a kernel: the presheaf kernel is a sheaf, and is a kernel in the category of sheaves. Further, $\phi : \mathscr{F} \rightarrow \mathscr{G}$ has a cokernel in the category of presheaves: call it $\mathscr{H}_\text{pre}$, and let $\text{sh} : \mathscr{H}_\text{pre} \rightarrow \mathscr{H}$ be its sheafification. Then the cokernel is the colimit of the diagram:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]\ar[d] & \mathscr{G} \\
          0 &
          }
          \end{xy}
          $$
        </div>
        <p>
          Now, the morphism $\mathscr{G} \rightarrow \mathscr{H}$ is a cokernel of $\phi$ in the category of sheaves. To prove this, consider the following diagram, where $\mathscr{E}$ is any sheaf:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]^\phi\ar[d] & \mathscr{G}\ar[d] \\
          0\ar[r] & \mathscr{E}
          }
          \end{xy}
          $$
        </div>
        <p>
          We construct:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          \mathscr{F}\ar[r]^\phi\ar[d] & \mathscr{G}\ar[d]\ar@/^1pc/[rrdd] & & \\
          0\ar[r]\ar@/_/[rrrd] & \mathscr{H}_{\text{pre}}\ar[r]^{\text{sh}} & \mathscr{H} & \\
          & & & \mathscr{E}
          }
          \end{xy}
          $$
        </div>
        <p>
          We want to show that there is a unique morphism $\mathscr{H} \rightarrow \mathscr{E}$. Since $\mathscr{H}_\text{pre}$ is a cokernel in the category of presheaves, there exists a unique morphism of presheaves $\mathscr{H}_\text{pre} \rightarrow \mathscr{E}$. By universality of sheafification, there is a unique morphism $\mathscr{H} \rightarrow \mathscr{E}$ making the diagram commute. Hence, we have shown that the sheaves of abelian groups over topological space $X$ form an abelian category. Everything we've discussed carries over to sheaves of $\mathscr{O}_X$-modules identically, because a sequence of $\mathscr{O}_X$-modules is exact iff the underlying sequence of abelian groups is exact.
        </p>
        <h2 id="inverse-image-sheaf">
          Inverse image sheaf
        </h2>
        <p>
          Given continuous map $\pi : X \rightarrow Y$, we get $\pi^{-1} : Y \rightarrow X$. Define $\pi^{-1}$ as <a href="/category/3#adjunctions">left-adjoint</a> to $\pi_*$. We then get canonical maps from $\pi^{-1}\pi_* \mathscr{F} \rightarrow \mathscr{F}$ associated to the identity morphism $\text{Mor}_Y(\pi_* \mathscr{F}, \pi_* \mathscr{F})$ and $\mathscr{G} \rightarrow \pi_*\pi^{-1} \mathscr{G}$ associated to the identity morphism $\text{Mor}_X(\pi^{-1}\mathscr{G}, \pi^{-1}\mathscr{G})$:
        </p>
        <div class="mathjax">
          $$
          \begin{xy}
          \xymatrix{
          & \pi^{-1}\mathscr{G}\ar[r] & \mathscr{F} \\
          X\ar@{-}[ur]\ar@{-}[urr]\ar[d]^\pi & \mathscr{G}\ar[r] & \pi_* \mathscr{F} \\
          Y\ar@{-}[ur]\ar@{-}[urr] & &
          }
          \end{xy}
          $$
        </div>
      </article>
    </main>
  </body>
</html>