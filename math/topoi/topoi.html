<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Notes from Goldblatt&#39;s Topoi book | artagnon.com</title>
    <meta charset="utf-8" />
    <meta name="description" content="Ramkumar Ramachandra&#39;s personal website" />
    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="index,follow" />
    <link rel="icon" href="/dist/artagnon.com.svg" />
    <link rel="mask-icon" href="/dist/mask-icon.svg" color="#000000" />
    <link rel="stylesheet" href="/dist/style.min.css" />
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/cash/6.0.1/cash.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/dayjs.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/dayjs/1.8.35/plugin/relativeTime.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
      extensions: ["tex2jax.js"], jax: ["input/TeX","output/HTML-CSS"],
      "HTML-CSS": { styles: {".MathJax_Preview": {visibility: "hidden"}} },
      tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
      TeX: {extensions: ["/dist/xypic.min.js","AMSmath.js","AMSsymbols.js"]} });
    </script>
    <link rel="preload" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" as="style" onload="this.onload=null;this.rel=&#39;stylesheet&#39;" />
    <noscript>
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/solarized-light.min.css" />
    </noscript>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/coq.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/cpp.min.js"></script>
    <script defer="" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/haskell.min.js"></script>
    <script defer="" src="/dist/script.min.js"></script>
  </head>
  <body>
    <nav>
      <div>
        <a href="/"><img src="/dist/artagnon.com.svg" /></a>
      </div>
      <div>
        <ul>
          <li>
            <a href="/articles">articles</a>
          </li>
          <li>
            <a href="/computing">computing</a>
          </li>
          <li>
            <a href="/math">math</a>
          </li>
        </ul>
      </div>
    </nav>
    <main>
      <header class="wrapper">
        <h1>
          Notes from Goldblatt's Topoi book
        </h1>
        <div id="metadata">
          <span id="timestamp"><time datetime="2019-12-07" class="begin">Sat, 07 Dec 2019 08:57:56 +0100</time><span class="to">â†ª</span><time datetime="2020-12-16" class="end">Wed, 16 Dec 2020 10:34:05 +0100</time></span><br /><span id="locations"><address>Paris</address></span>
        </div>
      </header>
      <article class="wrapper">
        <p>
          A topos is a categorical interpretation of boolean logic. We will start with some prerequisite set theory and category theory, build up the intuition for subobject classifiers, give an interpretation of set theory, and then move to formalizing boolean algebra using sheaves. The study of topoi is the study of cartesian-closed categories with subobject classifiers, and a category of sheaves over $\mathbb{B}$ is a complete boolean algebra.
        </p>
        <h2 id="some-set-theoretic-foundations">
          Some set theoretic foundations
        </h2>
        <p>
          The study of set theory starts with the study of <mark>Russell's paradox</mark>, and axiomatization into <mark>Zermelo-Frankel set theory</mark> with no paradoxes. To understand Russell's paradox, we first introduce the <mark>principle of comprehension</mark>: $\{x : \varphi(x)\}$ says that $x$ is an element of a set that satisfies the predicate $\varphi(x)$. Now, we construct the <mark>Russell set</mark> $R = \{x : x \not\in x\}$, and ask if $R$ is a member of this set. If $R \not\in R$, then its elements belong to a set satisfying the predicate $x \in x$, yielding $R \in R$; if $R \in R$, then its elements belong to a set satisfying the predicate $x \not\in x$, yielding $R \not\in R$. This leads to a contradictory conclusion.
        </p>
        <p>
          In ZF set theory, we say that a set can only be built up from another set using logical connectives like $\cup$, $\cap$, and $-$. The axioms can only be applied to a set and the result is always a set. The comprehension principle is replaced by a <mark>separation principle</mark>: Given a set $A$, and a predicate $\varphi(x)$, there exists a set whose members are precisely the members of $A$ that satisfy the predicate. $R$ isn't admitted as a set in this theory, thus resolving the contradiction.
        </p>
        <p>
          In category theory, the central concept of membership of an element in a set is replaced by the concept of a morphism between objects whose internal structures (elements) are opaque.
        </p>
        <h2 id="functions-to-elementary-category-theory">
          Functions to elementary category theory
        </h2>
        <p>
          We would first like to ask how functions are formalized in terms of sets. A function $f$ takes objects of $\text{dom } f$ to objects of $\text{codom } f$, represented as the pair $f = \langle x, y\rangle$, such that $\langle x, y\rangle = \langle z, y\rangle \implies x = z$. This formalism is weak because it doesn't include the domain, codomain, or the relation explicitly. To remedy this, we define the $f = \langle A, B, R\rangle$, with $A$ as the domain, $B$ the codomain, and $R \subseteq A \times B = \{\langle x, y\rangle : x \in A, y \in B\}$ the relation. Note that functions are composable yielding a unique $f \circ g = f(g(x))$ satisfying the associative law $f \circ (g \circ h) = (f \circ g) \circ h$.
        </p>
        <p>
          We can further abstract functions to arrows between objects in a category. The notion of "set membership" is an "internal notion" between the various members of the object, and needs to be "externalized". Let's start with some category theory.
        </p>
        <p>
          A category $\mathcal{C}$ consists of a bunch of objects, a bunch of arrows between the objects, including the identity arrow $a \rightarrow a$ for each $a \in C$, with an associative law for compositions:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          a\ar[r]^{f}\ar[rd]_>>>>>{h \circ g}\ar[d]_{h \circ g \circ f = h \circ (g \circ f)} & b\ar[d]^{g}\ar[dl]^<<<<<{g \circ f} \\
            c & d\ar[l]^{h}
            }
            \end{xy}
          
          $$
        </div>
        <p>
          A <mark>pre-order</mark> is defined as a category in which there is at most one arrow, $\langle p, q\rangle$, between any two objects $p$ and $q$. In this kind of category, called there is only one way to define composites. If $p$ and $q$ are any objects on a pre-order category, and $R$ is a binary relation, then we can identify two properties of $R$:
        </p>
        <ol class="olitems" type="none" start="1">
          <li>
            Reflexivity: for each $p \in \mathcal{C}$, we have $pRp$, the identity arrow.
          </li>
          <li>
            Transitivity: whenever $pRq$ and $qRs$, we have $pRs$.
          </li>
        </ol>
        <p>
          The typical example is to think of two non-comparable subsets of a set. With identity arrows omitted, this looks like:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          \bullet\ar@/^/[rd] & \\
            & \bullet\ar@/^/[lu] \\
            \bullet\ar[ru] & \\
            }
            \end{xy}
          
          $$
        </div>
        <p>
          With one additional property described below, a <mark>pre-order</mark> becomes a <mark>partial ordering</mark>:
        </p>
        <ol class="olitems" type="none" start="3">
          <li>
            Anti-symmetry: whenever $pRq$ and $qRp$, we have $p = q$.
          </li>
        </ol>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          \bullet\ar[rd] & \\
            & \bullet \\
            \bullet\ar[ru] & \\
            }
            \end{xy}
          
          $$
        </div>
        <p>
          A set $P$ together with the relation $\sqsubseteq$, denoted as $\langle P, \sqsubseteq \rangle$, is called a <mark>poset</mark>. The specific category we have used to encode $\mathbb{N}$ above is called <mark>$\textbf{Finord}$</mark>, the category of finite ordinals. In $\textbf{Finord}$, these three statements are equivalent:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            $m \lt n$
          </li>
          <li>
            $m \subset n$
          </li>
          <li>
            $m \in n$
          </li>
        </ol>
        <p>
          With one additional property, a <mark>partial ordering</mark> becomes a <mark>total ordering</mark>:
        </p>
        <ol class="olitems" type="none" start="4">
          <li>
            Connexity: For all $p$, $q \in \mathcal{C}$, <mark>pRq</mark> or <mark>qRp</mark>.
          </li>
        </ol>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          \bullet\ar@/^/[r] & \bullet \ar@/^/[r] & \bullet
            }
            \end{xy}
          
          $$
        </div>
        <p>
          Using $\sqsubseteq$ to denote the relation, we can encode $\mathbb{N}$ as $0 = \{\} = \phi$, $1 = \{\phi\}$, $2 = \{\phi, \{\phi\} \{\phi, \phi\}\}$, and so on, yielding $0 \sqsubseteq 1 \sqsubseteq 2 \sqsubseteq \ldots$
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          0\ar[r] & 1\ar[r] & 2\ar[r] & \ldots
            }
            \end{xy}
          
          $$
        </div>
        <p>
          This is a total order.
        </p>
        <p>
          Let us now consider categories with more than one arrow between two objects. A <mark>monoid</mark> is defined as an algebraic structure $(M, \circ, \mathbb{1})$ where $\circ$ is a function from $M \times M \rightarrow M$. A monoid naturally gives rise to a category with just one object: $M$. We can instantiate it with $M = \mathbb{N}$, $\circ = +$, and $\mathbb{1} = 0$ to obtain the familiar notion of addition of natural numbers:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          \mathbb{N}\ar[r]^{m}\ar[dr]_{m + n} & \mathbb{N}\ar[d]^{n} \\
            & \mathbb{N}
            }
            \end{xy}
          
          $$
        </div>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          \mathbb{N}\ar[r]^{m}\ar[dr]_{m} & \mathbb{N}\ar[d]^{0}\ar[dr]^{n} & \\
            & \mathbb{N}\ar[r]_{n} & \mathbb{N}
            }
            \end{xy}
          
          $$
        </div>
        <p>
          If $a, b \in \mathcal{C}$, then we use $\mathcal{C}(a, b)$ to denote the set of arrows from $a$ to $b$. A <mark>subcategory</mark> $\mathcal{C} \subseteq \mathcal{D}$ is defined as:
        </p>
        <ol class="olitems" type="a" start="1">
          <li>
            All objects of $\mathcal{C}$ are objects of $\mathcal{D}$.
          </li>
          <li>
            $\mathcal{C}(a ,b) \subseteq \mathcal{D}(a, b)$; all arrows of $\mathcal{C}$ are present in $\mathcal{D}$.
          </li>
        </ol>
        <p>
          A <mark>full subcategory</mark> $\mathcal{C}$ of $\mathcal{D}$ is defined as $\mathcal{C} \subseteq \mathcal{D}$ such that $\mathcal{C}(a, b) = \mathcal{D}(a, b)$; in other words, $\mathcal{D}$ has no arrows $a \rightarrow b$ other than the ones already present in $\mathcal{C}$. $\textbf{Finord}$ is a full subcategory of $\textbf{Finset}$, the category of finite sets.
        </p>
        <p>
          Before introducing comma categories, let us briefly introduce arrow categories as a prerequisite. An <mark>arrow category</mark> $\textbf{Set}^\rightarrow$ has as objects, the functions $f : A \rightarrow B$, and arrows between objects $f : A \rightarrow B$ and $g : C \rightarrow D$, the pair of arrows $\langle h, k\rangle$ such that the following diagram commutes:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          A\ar[r]^{h}\ar[d]_{f} & C\ar[d]^{g} \\
            B\ar[r]_{k} & D
            }
            \end{xy}
          
          $$
        </div>
        <p>
          A <mark>comma category</mark> can be viewed as a special case of an arrow categories with fixed domain or codomain. $\textbf{Set} \downarrow \mathbb{R}$ is the category of real-valued functions; the codomain of the category is fixed to $\mathbb{R}$. An arrow from $f: A \rightarrow \mathbb{R}$ to $g: B \rightarrow \mathbb{R}$ is the arrow $k: A \rightarrow B$ that makes the following commute:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          A\ar[rd]_{f}\ar[rr]^{k} & & B\ar[dl]^{g} \\
            & \mathbb{R} &
            }
            \end{xy}
          
          $$
        </div>
        <p>
          $\textbf{Set} \downarrow \mathbb{R}$ can be construed to a $\textbf{Set}^\rightarrow$ as follows:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          A\ar[d]_{f}\ar[r]^{k} & B\ar[d]^{g} \\
            \mathbb{R}\ar[r]^{id} & \mathbb{R}
            }
            \end{xy}
          
          $$
        </div>
        <p>
          Similarly, we can define $\mathcal{C} \uparrow a$ to be a comma category with a fixed domain instead of codomain:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          & a\ar[ld]_{f}\ar[rd]^{g} & \\
            b\ar[rr]^{k} & & c
            }
            \end{xy}
          
          $$
        </div>
        <h2 id="set-membership-categorically">
          Set membership, categorically
        </h2>
        <p>
          To work our way up to <mark>subobject classifiers</mark>, we need to build some prerequisite material. First, let us introduce the notion of <mark>monic</mark> and <mark>epic</mark> arrows, corresponding to injective and surjective functions in $\textbf{Set}$. $f$ is injective if $f(x) = f(y) \implies x = y$, and surjective if $\forall y, \exists x : y = f(x)$.
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          a\ar[r]^{g}\ar[d]_{h} & b\ar[d]^{f} \\
            b\ar[r]_f & c
            }
            \end{xy}
          
          $$
        </div>
        <p>
          If $f$ is monic, indicated as $f : b \rightarrowtail c$, the diagram above commutes, and $(f \circ g)(x) = (f \circ h)(x) = f(g(x)) = f(h(x)) \implies g = h$. In other words, a monic is said to be <mark>left-cancelable</mark>.
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          a\ar[r]^{f}\ar[d]_{f} & b\ar[d]^{g} \\
            b\ar[r]_h & c
            }
            \end{xy}
          
          $$
        </div>
        <hr class="horizrule" />
        <p class="exercise">
          If $g \circ f$ is monic, so is $f$.
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          \bullet\ar@<-0.5ex>[r]\ar@<0.5ex>[r] & \bullet\ar[dr]_{f}\ar[rr]^{g \circ f} && \bullet \\
            && \bullet\ar[ru]_{g} &
            }
            \end{xy}
          
          $$
        </div>
        <hr class="horizrule" />
        <p>
          If $f$ is epic, indicated as $f : a \twoheadrightarrow b$, the diagram above commutes, and $(g \circ f)(x) = (h \circ f)(x) = g(f(x)) = h(f(x)) \implies g = h$. In other words, an epic is said to be <mark>right-cancelable</mark>.
        </p>
        <p>
          An <mark>iso</mark> arrow, indicated as $f : a \rightarrowtail\mathrel{\mspace{-11mu}}\twoheadrightarrow b$, corresponds to a bijective function in $\textbf{Set}$. It is invertible, and its action can be thought of as a "relabeling"; as an example, $A \times \{0\}$ attaches $0$ to every element of $A$.
        </p>
        <p>
          Every iso is both monic and epic, but "iso" isn't equivalent to "monic and epic".  Consider $(\mathbb{N}, +, 0)$ in which all arrows are monic and epic, but the only iso arrows are the identities, since no natural number has an additive inverse.
        </p>
        <hr class="horizrule" />
        <p class="exercise">
          $f \circ g$ is iso, if $f$ and $g$ are, with $(f \circ g)^{-1} = g^{-1} \circ f^{-1}$.
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          A\ar@(ul, dl)[]_{\texttt{id}_A}\ar@/^/[rr]^{f \circ g} && B\ar@(ur, dr)[]^{\texttt{id}_B}\ar[ld]^{f^{-1}}\ar@/^/[ll]^{(f \circ g)^{-1}} \\
            & \bullet\ar[lu]^{g^{-1}} &
            }
            \end{xy}
          
          $$
        </div>
        <hr class="horizrule" />
        <p>
          An <mark>initial object</mark> $\mathbb{0}$ is such that, for every $a$ in $\mathcal{C}$, there exists only one arrow $\mathbb{0} \rightarrow a$, and a <mark>terminal object</mark> $\mathbb{1}$ is such that, for every $a$ in $\mathcal{C}$, there exists only one arrow $a \rightarrow \mathbb{1}$. In $\textbf{Set}$, $\phi$ is distinguished to be the initial object because there exists only one function from $\phi$ to every other element in the category, namely $\phi$, the empty function; the graph of $\phi \times a$ is empty; and $\{e\}$, the singleton set is distinguished to be the terminal object.
        </p>
        <hr class="horizrule" />
        <p class="exercise">
          All initial objects are isomorphic to each other. By duality, all terminal objects are also isomorphic to each other.
        </p>
        <p>
          Indeed, let $\mathbb{0}, \mathbb{0'}$ be two initial objects. Consider $f : \mathbb{0} \rightarrow \mathbb{0'}, g : \mathbb{0'} \rightarrow \mathbb{0}$ so that $g \circ f = \mathbb{0'} \rightarrow \mathbb{0'} = \texttt{id}_{\mathbb{0'}}$ and $f \circ g = \texttt{id}_{\mathbb{0}}$; so $f = g^{-1}$, and $\mathbb{0} \simeq \mathbb{0'}$.
        </p>
        <hr class="horizrule" />
        <p class="exercise">
          $\mathbb{1} \rightarrow a$ is monic.
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          \bullet\ar@<-0.5ex>[r]_{g}\ar@<0.5ex>[r]^{h} & \mathbb{1}\ar[r]^f & a
            }
            \end{xy}
          
          $$
        </div>
        <p>
          $f \circ g = f \circ h \Leftrightarrow g = h$. Now, $g = h$ is true because there is only one arrow to it from any given object, and hence, $f$ is monic.
        </p>
        <hr class="horizrule" />
        <p class="exercise">
          $\langle \texttt{pr}_a, \texttt{pr}_b\rangle = \mathbb{1}_{a \times b}$.
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          & a \\
            a \times b\ar[ur]^{\texttt{pr}_a}\ar[dr]_{\texttt{pr}_b}\ar@{.>}[r]^{\langle \texttt{pr}_a, \texttt{pr}_b \rangle} & a \times b\ar[u]_{\texttt{pr}_a}\ar[d]^{\texttt{pr}_b} \\
            & b
            }
            \end{xy}
          
          $$
        </div>
        <p>
          By uniqueness of identity arrow, $\mathbb{1}_{a \times b} = \langle \texttt{pr}_a, \texttt{pr}_b\rangle$.
        </p>
        <hr class="horizrule" />
        <p class="exercise">
          If $\langle f, g\rangle = \langle k, h\rangle$, then $f = k$ and $g = h$.
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          & a \\
            c \ar@{.>}[r]^{\langle f, g\rangle}_{\langle k, h\rangle}\ar[ur]^p\ar[rd]_q & a \times b\ar[u]_{\texttt{pr}_A}\ar[d]^{\texttt{pr}_B} \\
            & b
            }
            \end{xy}
          
          $$
        </div>
        <p>
          By definition of product, since this diagram commutes,
        </p>
        <div class="mathjax">
          $$
          \begin{matrix}
            p &=& \texttt{pr}_A \circ \langle f, g \rangle = f \\
              &=& \texttt{pr}_A \circ \langle k, h \rangle = k \\
            q &=& \texttt{pr}_B \circ \langle f, g \rangle = g \\
              &=& \texttt{pr}_B \circ \langle k, h \rangle = h
            \end{matrix}
          $$
        </div>
        <p>
          Hence, $f = k$ and $g = h$.
        </p>
        <hr class="horizrule" />
        <p class="exercise">
          $\langle f \circ h, g \circ h\rangle = \langle f, g\rangle \circ h$.
        </p>
        <p>
          The following diagram commutes:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          & & a \\
            d\ar[r]^h\ar@/^/[rru]^p\ar@/_/[rrd]_q & c\ar@{.>}[r]^{\langle f, g\rangle}\ar[ru]^f\ar[rd]_g & a \times b\ar[u]_{\texttt{pr}_A}\ar[d]^{\texttt{pr}_B} \\
            & & b
            }
            \end{xy}
          
          $$
        </div>
        <p>
          yielding:
        </p>
        <div class="mathjax">
          $$
          \begin{matrix}
            p = f \circ h = \texttt{pr}_A \circ \langle f, g\rangle \circ h \\
            q = g \circ h = \texttt{pr}_B \circ \langle f, g\rangle \circ h
            \end{matrix}
          $$
        </div>
        <p>
          Combining $\texttt{pr}_A$ and $\texttt{pr}_B$, we get:
        </p>
        <div class="mathjax">
          $$
          \langle f, g\rangle \circ h = \langle f \circ h, g \circ h\rangle
          $$
        </div>
        <hr class="horizrule" />
        <p class="exercise">
          $a \times b \simeq b \times a$.
        </p>
        <p>
          For isomorphism, there needs to exist $f : a \rightarrow b$ and $g : b \rightarrow a$, such that $f \circ g = g \circ f = \mathbb{1}$. From the diagram, we see that this is indeed the case:
        </p>
        <div class="mathjax">
          $$
            \begin{xy}
            \xymatrix{
          
          a \times b\ar@/^/[rr]^{\texttt{pr}_B \times \texttt{pr}_A} & & b \times a\ar@/^/[ll]^{\texttt{pr}_A \times \texttt{pr}_B}
            }
            \end{xy}
          
          $$
        </div>
        <hr class="horizrule" />
      </article>
    </main>
  </body>
</html>